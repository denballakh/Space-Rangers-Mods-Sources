Version=6
GlobalVars ~{
}
GlobalCode=
LocalVars ~{
    quest_deadline ~{
        Type=Integer
        Value=0
    }
    quest_started ~{
        Type=Integer
        Value=0
    }
    script_num ~{
        Type=Integer
        Value=0
    }
    quest_complete ~{
        Type=Integer
        Value=0
    }
    relation_list ~{
        Type=Unknown
        Value=None
    }
    ship_id_list ~{
        Type=Unknown
        Value=None
    }
    counter ~{
        Type=Integer
        Value=0
    }
    counter2 ~{
        Type=Integer
        Value=0
    }
    temp_ship ~{
        Type=Dword
        Value=0
    }
    temp_star ~{
        Type=Dword
        Value=0
    }
    planet_relation_list ~{
        Type=Unknown
        Value=None
    }
    temp_planet ~{
        Type=Dword
        Value=0
    }
    count_sorted ~{
        Type=Integer
        Value=0
    }
    sorted_items ~{
        Type=Integer
        Value=0
    }
    counter3 ~{
        Type=Integer
        Value=0
    }
    locations ~{
        Type=Unknown
        Value=None
    }
    quest_star ~{
        Type=Dword
        Value=0
    }
    quest_star2 ~{
        Type=Dword
        Value=0
    }
    quest_item ~{
        Type=Dword
        Value=0
    }
    item_delivered ~{
        Type=Integer
        Value=0
    }
    quest_failed ~{
        Type=Integer
        Value=0
    }
    quest_ship ~{
        Type=Dword
        Value=0
    }
    planet_owner ~{
        Type=Integer
        Value=0
    }
    StarNew ~{
        Type=Dword
        Value=0
    }
    PlanetNew ~{
        Type=Dword
        Value=0
    }
    AnimalCase ~{
        Type=Dword
        Value=0
    }
    GoldStatue ~{
        Type=Dword
        Value=0
    }
    GroupNew ~{
        Type=Dword
        Value=0
    }
    GroupPB ~{
        Type=Dword
        Value=1
    }
    GroupTransport ~{
        Type=Dword
        Value=2
    }
    GroupAttackers ~{
        Type=Dword
        Value=3
    }
    GroupRetriever ~{
        Type=Dword
        Value=4
    }
    DialogPlanet ~{
        Type=Dword
        Value=0
    }
    DialogComplete ~{
        Type=Dword
        Value=1
    }
    DialogPlanetCancel ~{
        Type=Dword
        Value=2
    }
    DialogAttackers ~{
        Type=Dword
        Value=3
    }
    DialogTransport ~{
        Type=Dword
        Value=4
    }
    DialogPB ~{
        Type=Dword
        Value=5
    }
    DialogCancelPirate ~{
        Type=Dword
        Value=6
    }
}
Constellations=0
Stars ~{
    StarNew ~{
        Constellation=-1
        IsSubspace=False
        NoKling=False
        NoComeKling=False
        StarLinks ~{
        }
        Planets ~{
            PlanetNew ~{
                Race=Maloc,Peleng,People,Fei,Gaal
                Owner=Maloc,Peleng,People,Fei,Gaal
                Economy=Agriculture,Industrial,Mixed
                Government=Anarchy,Dictatorship,Monarchy,Republic,Democracy
                Range=0..100
                Dialog=
            }
        }
        Ships ~{
            0 ~{
                Count=1
                Owner=Maloc,Peleng,People,Fei,Gaal
                Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
                IsPlayer=True
                Speed=0..10000
                Weapon=Undef
                CargoHook=0
                EmptySpace=0
                Rating=0..1000
                Status ~{
                    Trader=0..100
                    Warrior=0..100
                    Pirate=0..100
                }
                Score=0..1000000
                Strength=0.0..0.0
                Ruins=
            }
        }
    }
}
Places ~{
}
Items ~{
    AnimalCase ~{
        Place=
        Class=Unknown
        Type=0
        Size=10
        Level=1
        Radius=150
        Owner=None
        Useless=
    }
    GoldStatue ~{
        Place=
        Class=Unknown
        Type=0
        Size=10
        Level=1
        Radius=150
        Owner=None
        Useless=
    }
}
Groups ~{
    GroupNew ~{
        Planet=PlanetNew
        State=0(StateNew)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=1..1
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=True
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupPB ~{
        Planet=PlanetNew
        State=1(StateFree)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupTransport ~{
        Planet=PlanetNew
        State=3(StateFreeT)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupAttackers ~{
        Planet=PlanetNew
        State=2(StateAttack)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupRetriever ~{
        Planet=PlanetNew
        State=4(StateJump)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
}
GroupLinks ~{
}
InitCode=<<<
  counter=1;
  while (counter<ArrayDim(array_script_names)){
  if (array_chosen_planets[counter]==Id(PlanetNew)){script_num=counter;}
  counter=counter+1;}
  locations=newarray(1);
>>>
TurnCode=<<<
  if (!quest_started && ShipIsTakeoff(Player())){
  ShipOut(Player());}
  if(ItemExist(AnimalCase)) {
    if(ItemIn(AnimalCase,Player())) {
      NoDropItem(AnimalCase,1);
    }
    if(!ItemIn(AnimalCase,Player())) {
      NoDropItem(AnimalCase,0);
    }
  }
  if(quest_started && !quest_failed && !quest_complete) {
    if(item_delivered) {
      if(!ItemExist(GoldStatue)) {
        if(!quest_failed) {
          array_quest_statuses[script_num]=3;
          ShipOut(Player());
          quest_failed=1;
          NoComeKlingToStar(StarNew,0);
          Ether(5,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.130"),"<0>",Name(PlanetNew)));
          if(GroupCount(GroupPB)) {
            ShipOut(GroupToShip(GroupPB));
          }
        }
      }
      if(ItemExist(GoldStatue)) {
        if(CurTurn()>quest_deadline) {
          if(!quest_failed) {
            ReleaseItemFromScript(GoldStatue);
            array_quest_statuses[script_num]=3;
            ShipOut(Player());
            quest_failed=1;
            NoComeKlingToStar(StarNew,0);
            Ether(5,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.128"),"<0>",Name(PlanetNew)));
            if(GroupCount(GroupPB)) {
              ShipOut(GroupToShip(GroupPB));
            }
          }
        }
      }
    }
    if(!item_delivered) {
      if(!ItemExist(AnimalCase)) {
        if(!quest_failed) {
          array_quest_statuses[script_num]=3;
          ShipOut(Player());
          quest_failed=1;
          NoComeKlingToStar(StarNew,0);
          Ether(5,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.129"),"<0>",Name(PlanetNew)));
          if(GroupCount(GroupPB)) {
            ShipOut(GroupToShip(GroupPB));
          }
        }
      }
      if(ItemExist(AnimalCase)) {
        if(CurTurn()>quest_deadline) {
          if(!quest_failed) {
            NoDropItem(AnimalCase,0);
            ReleaseItemFromScript(AnimalCase);
            array_quest_statuses[script_num]=3;
            ShipOut(Player());
            quest_failed=1;
            NoComeKlingToStar(StarNew,0);
            Ether(5,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.128"),"<0>",Name(PlanetNew)));
            if(GroupCount(GroupPB)) {
              ShipOut(GroupToShip(GroupPB));
            }
          }
        }
        if(!GroupCount(GroupPB)) {
          if(!quest_failed) {
            NoDropItem(AnimalCase,0);
            ReleaseItemFromScript(AnimalCase);
            array_quest_statuses[script_num]=3;
            ShipOut(Player());
            quest_failed=1;
            NoComeKlingToStar(StarNew,0);
            Ether(5,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.127"),"<0>",Name(PlanetNew)));
          }
        }
      }
    }
  }
  if(quest_started) {
    if(count_sorted<(ArrayDim(ship_id_list)-1)) {
      sorted_items=0;
      while(sorted_items<3*ArrayDim(relation_list)) {
        if(count_sorted<(ArrayDim(ship_id_list)-1)) {
          ArraySortPartial(count_sorted+1,ship_id_list,relation_list);
          sorted_items=sorted_items+ArrayDim(relation_list)-count_sorted;
          count_sorted=count_sorted+1;
        }
        if(count_sorted>=(ArrayDim(ship_id_list)-1)) {
          sorted_items=3*ArrayDim(relation_list);
        }
      }
    }
  }
  if(ItemIn(AnimalCase,Player())) {
    if(GroupCount(GroupAttackers)<3) {
      counter=0;
      while(counter<StarShips(ShipStar(Player()))) {
        quest_ship=StarShips(ShipStar(Player()),counter);
        if (!ShipInScript(quest_ship)){
        if (ShipInNormalSpace(quest_ship)){
        if (ShipTypeN(quest_ship)==t_Transport){
        if (ShipOrder(quest_ship)!=6){
        if (HullDamage(quest_ship)<30){
        if (!ShipGetBad(quest_ship)){
        ShipJoin(GroupAttackers,quest_ship);
        if (GroupCount(GroupAttackers)>2){counter=StarShips(ShipStar(Player()));}
        }}}}}}
        counter=counter+1;
      }
    }
  }
>>>
DialogBegin=<<<
  if(GetShipPlanet(Player())==PlanetNew) {
    if(!quest_started && request_dialog) {
      request_dialog=0;
      if(PlanetOwner(PlanetNew)>=5) {
        //AddDialogOverride('DialogPlanetCancel',10);
        AddDialogOverride('DialogCancelPirate',10);
      }
      if(PlanetOwner(PlanetNew)<5) {
        counter=BuildListOfQuestPossibleLocations(locations,StarNew,20,255);
        if (counter){counter=StarListToTransitPlanetList(locations,StarNew,StarNew,140);}
        if(!counter) {
          AddDialogOverride('DialogPlanetCancel',10);
        }
        if(counter) {
          counter=0;
          quest_star=0;
          while (counter<ArrayDim(locations)){
          quest_ship=StarRuins(PlanetToStar(locations[counter]),'PB');
          if (quest_ship){
          if (!ShipInScript(quest_ship)){quest_star=PlanetToStar(locations[counter]);
          counter=ArrayDim(locations);}}
          counter=counter+1;}
          counter=0;
          if (quest_star){
          counter=BuildListOfQuestPossibleLocations(locations,StarNew,1,255);
          counter=StarListToTransitPlanetList(locations,StarNew,quest_star,60);}
          if(!counter) {
            AddDialogOverride('DialogPlanetCancel',10);
          }
          if(counter) {
            quest_star2=PlanetToStar(locations[0]);
            quest_star=Id(quest_star);
            quest_star2=Id(quest_star2);
            quest_ship=Id(quest_ship);
            AddDialogOverride('DialogPlanet',10);
          }
        }
      }
    }
    if(quest_started && ItemIn(GoldStatue,Player())) {
      AddDialogOverride('DialogComplete',10);
    }
  }
  if(GetShipRuins(Player())==GroupToShip(GroupPB)) {
    if(ItemIn(AnimalCase,Player())) {
      AddDialogOverride('DialogPB',10);
    }
  }
>>>
States ~{
    StateNew ~{
        Type=None
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=
        InMsg=
        Ether=
        Code=
    }
    StateFree ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=
        InMsg=
        Ether=
        Code=<<<
            if(!ItemExist(AnimalCase)) {
              ShipOut();
            }
        >>>
    }
    StateAttack ~{
        Type=Follow
        Object=GroupNew
        Attack ~{
            0=GroupNew
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogAttackers
        InMsg=DialogAttackers
        Ether=
        Code=<<<
            if((ShipStar(CurShip)!=ShipStar(Player())) || !ItemIn(AnimalCase,Player())) {
              quest_ship=CurShip;
              ShipOut();
              TruceBetweenShips(Player(),quest_ship);
            }
        >>>
    }
    StateFreeT ~{
        Type=None
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogTransport
        InMsg=DialogTransport
        Ether=
        Code=<<<
            if(GetShipPlanet(CurShip)) {
              if(GetShipPlanet(CurShip)!=PlanetNew) {
                FreeItem(GetItemFromShip(CurShip,FindItemInShip(CurShip,AnimalCase)));
                OrderLock(CurShip,0);
                NoTargetToShip(CurShip,0);
                ShipOut();
                array_quest_statuses[script_num]=3;
                ShipOut(Player());
                quest_failed=1;
                Ether(5,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.131"),"<0>",Name(PlanetNew)));
              }
              if(GetShipPlanet(CurShip)==PlanetNew) {
                OrderTakeOff(CurShip);
              }
            }
            if(ShipInNormalSpace(CurShip)) {
              if(Id(ShipStar(CurShip))==quest_star2) {
                OrderLanding(CurShip,NearCivilPlanet(CurShip));
              }
              if(Id(ShipStar(CurShip))!=quest_star2) {
                OrderJump(CurShip,GalaxyStar(quest_star2-1));
              }
            }
            if(!ItemExist(AnimalCase)) {
              OrderLock(CurShip,0);
              ShipOut();
            }
        >>>
    }
    StateJump ~{
        Type=Jump
        Object=StarNew
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogTransport
        InMsg=DialogTransport
        Ether=
        Code=<<<
            if(!ItemExist(AnimalCase)) {
              OrderLock(CurShip,0);
              ShipOut();
            }
            if(EndState) {
              ChangeState(5);
              exit;
            }
        >>>
    }
    StateLand ~{
        Type=Landing
        Object=PlanetNew
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogTransport
        InMsg=DialogTransport
        Ether=
        Code=<<<
            if(!ItemExist(AnimalCase)) {
              OrderLock(CurShip,0);
              ShipOut();
            }
            if(EndState) {
              FreeItem(GetItemFromShip(CurShip,FindItemInShip(CurShip,AnimalCase)));
              ShipOut();
              array_quest_statuses[script_num]=3;
              ShipOut(Player());
              quest_failed=1;
              Ether(5,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.139"),"<0>",Name(PlanetNew)));
            }
        >>>
    }
}
Dialogs ~{
    DialogPlanet ~{
        Code=<<<
            quest_deadline=CurTurn()+90;
            DChange(0);
            exit;
        >>>
    }
    DialogComplete ~{
        Code=<<<
            FreeItem(GetItemFromShip(Player(),FindItemInShip(Player(),GoldStatue)));
            while (count_sorted<(ArrayDim(ship_id_list)-1)){
            ArraySortPartial(count_sorted+1,ship_id_list,relation_list);
            count_sorted=count_sorted+1;}
            counter=0;
            while (counter<GalaxyStars()){
            temp_star=GalaxyStar(counter);
            counter2=0;
            while (counter2<StarShips(temp_star)){
            temp_ship=StarShips(temp_star,counter2);
            counter3=ArrayFindInSorted(ship_id_list,Id(temp_ship));
            if (counter3>-1){
            RelationToRanger(temp_ship,Player(),20+relation_list[counter3]);
            if (ArrayDim(ship_id_list)>1){
            ArrayDelete(ship_id_list,counter3);
            ArrayDelete(relation_list,counter3);}
            }
            counter2=counter2+1;}
            counter=counter+1;}
            counter=0;
            while (counter<GalaxyStars()){
            temp_star=GalaxyStar(counter);
            counter2=0;
            while (counter2<StarPlanets(temp_star)){
            temp_planet=StarPlanets(temp_star,counter2);
            if (PlanetOwner(temp_planet)!=6){
            RelationToRanger(temp_planet,Player(),20+planet_relation_list[1]);
            ArrayDelete(planet_relation_list,1);}
            counter2=counter2+1;}
            counter=counter+1;}
            array_quest_statuses[script_num]=2;
            quest_complete=1;
            khan_counter=khan_counter+1;
            ShipOut(Player());
            NoComeKlingToStar(StarNew,0);
            Ether(4,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.133"),"<0>",Name(PlanetNew)));
            DChange(1);
            exit;
        >>>
    }
    DialogPlanetCancel ~{
        Code=<<<
            DChange(2);
            exit;
        >>>
    }
    DialogAttackers ~{
        Code=<<<
            if((Id(CurShip)%2)==0) {
              DChange(8);
              exit;
            }
            if((Id(CurShip)%2)==1) {
              DChange(4);
              exit;
            }
        >>>
    }
    DialogTransport ~{
        Code=<<<
            DChange(3);
            exit;
        >>>
    }
    DialogPB ~{
        Code=<<<
            DChange(5);
            exit;
        >>>
    }
    DialogCancelPirate ~{
        Code=<<<
            DChange(11);
            exit;
        >>>
    }
}
DialogMsgs ~{
    0 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla11.135"),"<0>",ShipName(Player()),"<1>",ShipName(Player()),"<2>",ShipName(IdToShip(quest_ship)),"<3>",ShipName(Player())));    DAdd(0);
            DAdd(2);

        >>>
    }
    1 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla11.90"),"<0>",ShipName(Player())));    DAdd(1);

        >>>
    }
    2 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla11.146"),"<0>",ShipName(Player())));    DAdd(3);

        >>>
    }
    3 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.123"));    DAdd(13);

        >>>
    }
    4 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.113"));    if(Dist(Player(),CurShip)<=1000) {
              DAdd(5);
              DAdd(6);
            }
            if(Dist(Player(),CurShip)>1000) {
              DAdd(15);
            }

        >>>
    }
    5 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.108"));    DAdd(7);

        >>>
    }
    6 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.109"));    DAdd(8);

        >>>
    }
    7 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.114"));    DAdd(6);
            DAdd(9);

        >>>
    }
    8 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.115"));    if(Dist(Player(),CurShip)<=1000) {
              DAdd(10);
              DAdd(11);
            }
            if(Dist(Player(),CurShip)>1000) {
              DAdd(15);
            }

        >>>
    }
    9 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.116"));    DAdd(11);
            DAdd(12);

        >>>
    }
    10 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla11.124"));    DAdd(4);

        >>>
    }
    11 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla11.144"),"<0>",ShipName(Player()),"<1>",ShipName(Player())));    DAdd(14);

        >>>
    }
}
DialogAnswers ~{
    0 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla11.74"));
        Code=<<<
            quest_item=CreateQuestItem('Usl_AnimalCase');
            LinkItemToScript(quest_item,AnimalCase);
            //NoDropItem(quest_item,1);
            quest_ship=IdToShip(quest_ship);
            ShipJoin(GroupPB,quest_ship);
            quest_ship=BuyTransport(PlanetNew,0);
            NoTargetToShip(quest_ship,2);
            OrderLock(quest_ship,1);
            AddItemToShip(quest_ship,quest_item);
            ShipJoin(GroupTransport,quest_ship);
            relation_list=newarray(1);
            ship_id_list=newarray(1);
            planet_relation_list=newarray(1);
            counter=0;
            while (counter<GalaxyStars()){
            temp_star=GalaxyStar(counter);
            counter2=0;
            while (counter2<StarShips(temp_star)){
            temp_ship=StarShips(temp_star,counter2);
            if (ShipOwner(temp_ship)<5){
            if (ShipTypeN(temp_ship)<4){
            ArrayAdd(ship_id_list,Id(temp_ship));
            ArrayAdd(relation_list,RelationToRanger(temp_ship,Player()));
            }}
            counter2=counter2+1;}
            counter=counter+1;}
            counter=0;
            while (counter<GalaxyStars()){
            temp_star=GalaxyStar(counter);
            counter2=0;
            while (counter2<StarPlanets(temp_star)){
            temp_planet=StarPlanets(temp_star,counter2);
            if (PlanetOwner(temp_planet)!=6){
            ArrayAdd(planet_relation_list,RelationToRanger(temp_planet,Player()));}
            counter2=counter2+1;}
            counter=counter+1;}
            ArrayDelete(relation_list,0);
            ArrayDelete(ship_id_list,0);
            array_quest_statuses[script_num]=1;
            quest_started=1;
            NoComeKlingToStar(StarNew,1);
            Ether(3,'11678BEA-59D4-48B2-AB7A-0836FD46BD98',Format(CT("Script.PC_pla11.134"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",ShipName(GroupToShip(GroupPB)),"<3>",GameDateTxtByTurn(quest_deadline)));
        >>>
    }
    1 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla11.75"));
        Code=
    }
    2 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla11.76"));
        Code=
    }
    3 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla11.145"));
        Code=
    }
    4 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla11.125"));
        Code=
    }
    5 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla11.117"));
        Code=<<<
            DChange(7);
            exit;
        >>>
    }
    6 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla11.142"));
        Code=<<<
            quest_item=GetItemFromShip(Player(),FindItemInShip(Player(),AnimalCase));
            NoDropItem(AnimalCase,0);
            if (ShipFreeSpace(CurShip)<ItemSize(quest_item)){
            ItemSize(ShipItems(CurShip,0),ItemSize(ShipItems(CurShip,0))+ItemSize(quest_item));}
            AddItemToShip(CurShip,quest_item);
            quest_ship=CurShip;
            ShipOut();
            TruceBetweenShips(Player(),quest_ship);
            ShipJoin(GroupRetriever,quest_ship);
        >>>
    }
    7 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla11.110"));
        Code=<<<
            FreeItem(GetItemFromShip(Player(),FindItemInShip(Player(),AnimalCase)));
            item_delivered=1;
            quest_item=CreateQuestItem('Usl_GoldenRocket');
            AddItemToShip(Player(),quest_item);
            LinkItemToScript(quest_item,GoldStatue);
            Ether(0,'51893280-E250-4D6B-A690-B0E226D78551',CT("Script.PC_pla11.140"));
            DChange(6);
            exit;
        >>>
    }
    8 ~{
        Command=hangar
        Answer=DAnswer('hangar~'+CT("Script.PC_pla11.112"));
        Code=
    }
    9 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla11.137"));
        Code=
    }
    10 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla11.120"));
        Code=<<<
            DChange(9);
            exit;
        >>>
    }
    11 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla11.143"));
        Code=<<<
            quest_item=GetItemFromShip(Player(),FindItemInShip(Player(),AnimalCase));
            NoDropItem(AnimalCase,0);
            if (ShipFreeSpace(CurShip)<ItemSize(quest_item)){
            ItemSize(ShipItems(CurShip,0),ItemSize(ShipItems(CurShip,0))+ItemSize(quest_item));}
            AddItemToShip(CurShip,quest_item);
            quest_ship=CurShip;
            ShipOut();
            TruceBetweenShips(Player(),quest_ship);
            ShipJoin(GroupRetriever,quest_ship);
        >>>
    }
    12 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla11.122"));
        Code=
    }
    13 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla11.126"));
        Code=<<<
            DChange(10);
            exit;
        >>>
    }
    14 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla11.145"));
        Code=
    }
    15 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla11.141"));
        Code=
    }
}
