Version=6
GlobalVars ~{
}
GlobalCode=
LocalVars ~{
    locations ~{
        Type=Unknown
        Value=None
    }
    quest_ship ~{
        Type=Dword
        Value=0
    }
    quest_planet ~{
        Type=Dword
        Value=0
    }
    planet_owner ~{
        Type=Integer
        Value=0
    }
    counter2 ~{
        Type=Integer
        Value=0
    }
    counter ~{
        Type=Integer
        Value=0
    }
    script_num ~{
        Type=Integer
        Value=0
    }
    quest_started ~{
        Type=Integer
        Value=0
    }
    quest_star ~{
        Type=Dword
        Value=0
    }
    req_money ~{
        Type=Integer
        Value=5000
    }
    quest_state ~{
        Type=Integer
        Value=0
    }
    PelengHired ~{
        Type=Integer
        Value=0
    }
    GaalHired ~{
        Type=Integer
        Value=0
    }
    FeiHired ~{
        Type=Integer
        Value=0
    }
    MalocHired ~{
        Type=Integer
        Value=0
    }
    PeopleHired ~{
        Type=Integer
        Value=0
    }
    kill_pirate ~{
        Type=Integer
        Value=0
    }
    quest_failed ~{
        Type=Integer
        Value=0
    }
    prepare_turn ~{
        Type=Integer
        Value=0
    }
    camera_start ~{
        Type=Integer
        Value=0
    }
    ruler_greeting ~{
        Type=Integer
        Value=0
    }
    maloc_test_date ~{
        Type=Integer
        Value=0
    }
    maloc_start_hp ~{
        Type=Integer
        Value=0
    }
    members_status ~{
        Type=Unknown
        Value=None
    }
    quest_ship2 ~{
        Type=Dword
        Value=0
    }
    tmp_x ~{
        Type=Integer
        Value=0
    }
    tmp_y ~{
        Type=Integer
        Value=0
    }
    tmp_cos ~{
        Type=Dword
        Value=0
    }
    tmp_sin ~{
        Type=Dword
        Value=0
    }
    linerOut ~{
        Type=Integer
        Value=0
    }
    StarNew ~{
        Type=Dword
        Value=0
    }
    PlanetNew ~{
        Type=Dword
        Value=0
    }
    PlaceGroup ~{
        Type=Dword
        Value=0
    }
    PlaceCamera ~{
        Type=Dword
        Value=0
    }
    PlaceStart ~{
        Type=Dword
        Value=0
    }
    GroupNew ~{
        Type=Dword
        Value=0
    }
    GroupPeleng ~{
        Type=Dword
        Value=1
    }
    GroupGaal ~{
        Type=Dword
        Value=2
    }
    GroupFei ~{
        Type=Dword
        Value=3
    }
    GroupMaloc ~{
        Type=Dword
        Value=4
    }
    GroupPeople ~{
        Type=Dword
        Value=5
    }
    GroupAdvisor ~{
        Type=Dword
        Value=6
    }
    GroupRuler ~{
        Type=Dword
        Value=7
    }
    GroupLiner ~{
        Type=Dword
        Value=8
    }
    GroupBambai ~{
        Type=Dword
        Value=9
    }
    GroupPirate ~{
        Type=Dword
        Value=10
    }
    DialogPlanet ~{
        Type=Dword
        Value=0
    }
    DialogPeleng ~{
        Type=Dword
        Value=1
    }
    DialogPlanetCancel ~{
        Type=Dword
        Value=2
    }
    DialogGaal ~{
        Type=Dword
        Value=3
    }
    DialogFei ~{
        Type=Dword
        Value=4
    }
    DialogMaloc ~{
        Type=Dword
        Value=5
    }
    DialogMalocYes ~{
        Type=Dword
        Value=6
    }
    DialogPeople ~{
        Type=Dword
        Value=7
    }
    DialogAdvisor ~{
        Type=Dword
        Value=8
    }
    DialogRuler ~{
        Type=Dword
        Value=9
    }
    DialogOnAWay ~{
        Type=Dword
        Value=10
    }
    DialogBusy ~{
        Type=Dword
        Value=11
    }
    DialogRulerStart ~{
        Type=Dword
        Value=12
    }
    DialogRulerHelp ~{
        Type=Dword
        Value=13
    }
    DialogRulerWin ~{
        Type=Dword
        Value=14
    }
    DialogAdvisor2 ~{
        Type=Dword
        Value=15
    }
    DialogLiner ~{
        Type=Dword
        Value=16
    }
    DialogBambai ~{
        Type=Dword
        Value=17
    }
    DialogContinue ~{
        Type=Dword
        Value=18
    }
    DialogPeopleAttack ~{
        Type=Dword
        Value=19
    }
    DialogBambaiKill ~{
        Type=Dword
        Value=20
    }
    DialogMalocNo ~{
        Type=Dword
        Value=21
    }
    DialogCancelPirate ~{
        Type=Dword
        Value=22
    }
}
Constellations=0
Stars ~{
    StarNew ~{
        Constellation=-1
        IsSubspace=False
        NoKling=False
        NoComeKling=False
        StarLinks ~{
        }
        Planets ~{
            PlanetNew ~{
                Race=Maloc,Peleng,People,Fei,Gaal
                Owner=Maloc,Peleng,People,Fei,Gaal
                Economy=Agriculture,Industrial,Mixed
                Government=Anarchy,Dictatorship,Monarchy,Republic,Democracy
                Range=0..100
                Dialog=
            }
        }
        Ships ~{
            0 ~{
                Count=1
                Owner=Maloc,Peleng,People,Fei,Gaal
                Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
                IsPlayer=True
                Speed=0..10000
                Weapon=Undef
                CargoHook=0
                EmptySpace=0
                Rating=0..1000
                Status ~{
                    Trader=0..100
                    Warrior=0..100
                    Pirate=0..100
                }
                Score=0..1000000
                Strength=0.0..0.0
                Ruins=
            }
        }
    }
}
Places ~{
    PlaceGroup ~{
        Star=StarNew
        Type=FromShip
        Object=GroupRuler
        Distance=0.20000000298023224
        Radius=100
        Angle=90.0
    }
    PlaceCamera ~{
        Star=StarNew
        Type=FromShip
        Object=GroupRuler
        Distance=0.11999999731779099
        Radius=100
        Angle=0.0
    }
    PlaceStart ~{
        Star=StarNew
        Type=NearPlanet
        Object=PlanetNew
        Radius=50
    }
}
Items ~{
}
Groups ~{
    GroupNew ~{
        Planet=PlanetNew
        State=0(StateNew)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=1..1
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=True
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupPeleng ~{
        Planet=PlanetNew
        State=1(StateFreeP)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupGaal ~{
        Planet=PlanetNew
        State=2(StateFreeG)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupFei ~{
        Planet=PlanetNew
        State=3(StateFreeF)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupMaloc ~{
        Planet=PlanetNew
        State=4(StateFreeM)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupPeople ~{
        Planet=PlanetNew
        State=5(StateFreeH)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupAdvisor ~{
        Planet=PlanetNew
        State=6(StateFreeA)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupRuler ~{
        Planet=PlanetNew
        State=7(StateRuler)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupLiner ~{
        Planet=PlanetNew
        State=11(StateLinerStart)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupBambai ~{
        Planet=PlanetNew
        State=9(StateBambai)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupPirate ~{
        Planet=PlanetNew
        State=10(StateEvilPirate)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
}
GroupLinks ~{
}
InitCode=<<<
  locations=newarray(1);
  counter=1;
  while (counter<ArrayDim(array_script_names)){
  if (array_chosen_planets[counter]==Id(PlanetNew)){script_num=counter;}
  counter=counter+1;}
>>>
TurnCode=<<<
  if (!quest_started && ShipIsTakeoff(Player())){
  ShipOut(Player());}
  if(quest_started && !quest_failed && (quest_state<4)) {
    if(!GroupCount(GroupPeleng) || !GroupCount(GroupGaal) || !GroupCount(GroupFei) || !GroupCount(GroupMaloc) || !GroupCount(GroupPeople) || !GroupCount(GroupAdvisor)) {
      array_quest_statuses[script_num]=3;
      ShipOut(Player());
      quest_ship=GroupToShip(GroupPeleng);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupGaal);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupFei);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupMaloc);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupPeople);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupAdvisor);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupRuler);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);
      ShipSpecialBonuses(quest_ship,bonWEnergy,-ShipSpecialBonuses(quest_ship,bonWEnergy));
      ShipSpecialBonuses(quest_ship,bonWSplinter,-ShipSpecialBonuses(quest_ship,bonWSplinter));
      ShipSpecialBonuses(quest_ship,bonWMissile,-ShipSpecialBonuses(quest_ship,bonWMissile));
      ShipSpecialBonuses(quest_ship,bonWRadius,-ShipSpecialBonuses(quest_ship,bonWRadius));
      ShipSpecialBonuses(quest_ship,bonDroid,-ShipSpecialBonuses(quest_ship,bonDroid));
      }
      quest_ship=GroupToShip(GroupLiner);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);
      ShipSpecialBonuses(quest_ship,bonWEnergy,-ShipSpecialBonuses(quest_ship,bonWEnergy));
      ShipSpecialBonuses(quest_ship,bonWSplinter,-ShipSpecialBonuses(quest_ship,bonWSplinter));
      ShipSpecialBonuses(quest_ship,bonWMissile,-ShipSpecialBonuses(quest_ship,bonWMissile));
      }
      quest_ship=GroupToShip(GroupPirate);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupBambai);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      quest_ship=GroupToShip(GroupBambai);
      if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
      NoComeKlingToStar(StarNew,0);
      quest_failed=1;
      Ether(5,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.282"),"<0>",Name(PlanetNew)));
    }
  }
  if(quest_state) {
    if(!quest_failed) {
      if(quest_state<3) {
        if(!(GroupCount(GroupLiner)+linerOut) || (GroupCount(GroupBambai)<2)) {
          array_quest_statuses[script_num]=3;
          ShipOut(Player());
          quest_ship=GroupToShip(GroupPeleng);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupGaal);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupFei);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupMaloc);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupPeople);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupAdvisor);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupRuler);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);
          ShipSpecialBonuses(quest_ship,bonWEnergy,-ShipSpecialBonuses(quest_ship,bonWEnergy));
          ShipSpecialBonuses(quest_ship,bonWSplinter,-ShipSpecialBonuses(quest_ship,bonWSplinter));
          ShipSpecialBonuses(quest_ship,bonWMissile,-ShipSpecialBonuses(quest_ship,bonWMissile));
          ShipSpecialBonuses(quest_ship,bonWRadius,-ShipSpecialBonuses(quest_ship,bonWRadius));
          ShipSpecialBonuses(quest_ship,bonDroid,-ShipSpecialBonuses(quest_ship,bonDroid));
          }
          quest_ship=GroupToShip(GroupLiner);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);
          ShipSpecialBonuses(quest_ship,bonWEnergy,-ShipSpecialBonuses(quest_ship,bonWEnergy));
          ShipSpecialBonuses(quest_ship,bonWSplinter,-ShipSpecialBonuses(quest_ship,bonWSplinter));
          ShipSpecialBonuses(quest_ship,bonWMissile,-ShipSpecialBonuses(quest_ship,bonWMissile));
          }
          quest_ship=GroupToShip(GroupPirate);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupBambai);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupBambai);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          NoComeKlingToStar(StarNew,0);
          quest_failed=1;
          Ether(5,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.282"),"<0>",Name(PlanetNew)));
        }
      }
      if(!quest_failed) {
        if((quest_state<4) && !GroupCount(GroupRuler)) {
          array_quest_statuses[script_num]=3;
          ShipOut(Player());
          quest_ship=GroupToShip(GroupPeleng);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupGaal);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupFei);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupMaloc);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupPeople);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupAdvisor);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupRuler);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);
          ShipSpecialBonuses(quest_ship,bonWEnergy,-ShipSpecialBonuses(quest_ship,bonWEnergy));
          ShipSpecialBonuses(quest_ship,bonWSplinter,-ShipSpecialBonuses(quest_ship,bonWSplinter));
          ShipSpecialBonuses(quest_ship,bonWMissile,-ShipSpecialBonuses(quest_ship,bonWMissile));
          ShipSpecialBonuses(quest_ship,bonWRadius,-ShipSpecialBonuses(quest_ship,bonWRadius));
          ShipSpecialBonuses(quest_ship,bonDroid,-ShipSpecialBonuses(quest_ship,bonDroid));
          }
          quest_ship=GroupToShip(GroupLiner);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);
          ShipSpecialBonuses(quest_ship,bonWEnergy,-ShipSpecialBonuses(quest_ship,bonWEnergy));
          ShipSpecialBonuses(quest_ship,bonWSplinter,-ShipSpecialBonuses(quest_ship,bonWSplinter));
          ShipSpecialBonuses(quest_ship,bonWMissile,-ShipSpecialBonuses(quest_ship,bonWMissile));
          }
          quest_ship=GroupToShip(GroupPirate);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupBambai);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          quest_ship=GroupToShip(GroupBambai);
          if(quest_ship){NoTargetToShip(quest_ship,0);OrderLock(quest_ship,0);ShipOut(quest_ship);}
          NoComeKlingToStar(StarNew,0);
          quest_failed=1;
          Ether(5,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.281"),"<0>",Name(PlanetNew)));
        }
      }
    }
  }
  if(quest_started && !quest_failed && !quest_state && ((PelengHired+GaalHired+FeiHired+MalocHired+PeopleHired)==5)) {
    if(GetShipPlanet(GroupToShip(GroupPeleng))==PlanetNew) {
      if(GetShipPlanet(GroupToShip(GroupGaal))==PlanetNew) {
        if(GetShipPlanet(GroupToShip(GroupFei))==PlanetNew) {
          if(GetShipPlanet(GroupToShip(GroupMaloc))==PlanetNew) {
            if(GetShipPlanet(GroupToShip(GroupPeople))==PlanetNew) {
              if(ShipStar(Player())==StarNew) {
                if(ShipInNormalSpace(Player())) {
                  quest_state=1;
                  ShipJoin(GroupRuler,BuyTransport(PlanetNew,2,0));
                  NoTargetToShip(GroupToShip(GroupRuler),2);
                  ShipSpecialBonuses(GroupToShip(GroupRuler),bonWEnergy,-100);
                  ShipSpecialBonuses(GroupToShip(GroupRuler),bonWSplinter,-100);
                  ShipSpecialBonuses(GroupToShip(GroupRuler),bonWMissile,-100);
                  ShipSpecialBonuses(GroupToShip(GroupRuler),bonWRadius,-50);
                  ShipSpecialBonuses(GroupToShip(GroupRuler),bonDroid,-100);
                  ShipJoin(GroupLiner,BuyTransport(PlanetNew,1,0));
                  NoTargetToShip(GroupToShip(GroupLiner),2,0);
                  ShipSpecialBonuses(GroupToShip(GroupLiner),bonWEnergy,-100);
                  ShipSpecialBonuses(GroupToShip(GroupLiner),bonWSplinter,-100);
                  ShipSpecialBonuses(GroupToShip(GroupLiner),bonWMissile,-100);
                  planet_owner=PlanetRace(PlanetNew,0);
                  ShipJoin(GroupBambai,BuyPirate(PlanetNew,0));
                  ShipJoin(GroupBambai,BuyPirate(PlanetNew,0));
                  NoTargetToShip(GroupShip(GroupBambai,0),2);
                  NoTargetToShip(GroupShip(GroupBambai,1),2);
                  PlanetRace(PlanetNew,planet_owner);
                  prepare_turn=CurTurn();
                  Ether(0,'C5436928-4F36-4315-BD16-620A9657EFD8',CT("Script.PC_pla15.277"));
                }
              }
            }
          }
        }
      }
    }
  }
  if((quest_state==1) && !quest_failed && ((prepare_turn+2)<CurTurn())) {
    quest_state=2;
    camera_start=CurTurn();
    if((ShipStar(Player())==StarNew) && (ShipInNormalSpace(Player()))) {
      Ether(1,'056195E3-E552-4636-89D8-A070F54CACA7',Format(CT("Script.PC_pla15.276"),"<0>",Name(GroupToShip(GroupPeople))),GroupToShip(GroupPeople));
    }
  }
  if((quest_state==2) && !quest_failed) {
    if((ShipStar(Player())==StarNew) && (ShipInNormalSpace(Player()))) {
      if((camera_start+2)==CurTurn()) {
        Ether(1,'',Format(CT("Script.PC_pla15.306"),"<0>",Name(GroupToShip(GroupBambai)),"<1>",Name(GroupToShip(GroupLiner))),GroupToShip(GroupBambai),GroupToShip(GroupLiner));
      }
      if((camera_start+3)==CurTurn()) {
        Ether(1,'BA7D3D6D-CEFA-4A1A-9F81-F55D8A03618B',Format(CT("Script.PC_pla15.305"),"<0>",Name(GroupToShip(GroupRuler)),"<1>",Name(GroupToShip(GroupBambai))),GroupToShip(GroupRuler),GroupToShip(GroupBambai),GroupToShip(GroupLiner));
      }
    }
  }
>>>
DialogBegin=<<<
  if(GetShipPlanet(Player())==PlanetNew) {
    if(request_dialog) {
      if(!quest_started) {
        if(PlanetOwner(PlanetNew)>=5) {
          request_dialog=0;
          //AddDialogOverride('DialogPlanetCancel',10);
          AddDialogOverride('DialogCancelPirate',10);
        }
        if(PlanetOwner(PlanetNew)<5) {
          request_dialog=0;
          counter=BuildListOfQuestPossibleLocations(locations,ShipStar(Player()),1,60);
          if(counter<5) {
            AddDialogOverride('DialogPlanetCancel',10);
          }
          if(counter>=5) {
            counter=StarListToTransitPlanetList(locations,StarNew,StarNew,60);
            if(counter<5) {
              AddDialogOverride('DialogPlanetCancel',10);
            }
            if(counter>=5) {
              AddDialogOverride('DialogPlanet',10);
            }
          }
        }
      }
    }
  }
>>>
States ~{
    StateNew ~{
        Type=None
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=
        InMsg=
        Ether=
        Code=
    }
    StateFreeP ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogPeleng
        InMsg=DialogPeleng
        Ether=
        Code=<<<
            if(PelengHired) {
              ChangeState(15);
              exit;
            }
        >>>
    }
    StateFreeG ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogGaal
        InMsg=DialogGaal
        Ether=
        Code=<<<
            if(GaalHired) {
              ChangeState(15);
              exit;
            }
        >>>
    }
    StateFreeF ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogFei
        InMsg=DialogFei
        Ether=
        Code=<<<
            if(FeiHired) {
              ChangeState(15);
              exit;
            }
        >>>
    }
    StateFreeM ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogMaloc
        InMsg=DialogMaloc
        Ether=
        Code=<<<
            if(maloc_start_hp) {
              if(5*(100-HullDamage(CurShip))<=4*maloc_start_hp) {
                maloc_start_hp=0;
                maloc_test_date=0;
                OrderLock(CurShip,0);
                TruceBetweenShips(CurShip,Player());
                if((ShipStar(Player())==ShipStar(CurShip)) && (ShipInNormalSpace(Player()))) {
                  Dialog(DialogMalocYes,CurShip);
                }
              }
              if(maloc_start_hp) {
                if(((maloc_test_date+3)<CurTurn()) && (5*(100-HullDamage(CurShip))>4*maloc_start_hp)) {
                  maloc_start_hp=0;
                  maloc_test_date=0;
                  OrderLock(CurShip,0);
                  TruceBetweenShips(CurShip,Player());
                  if((ShipStar(Player())==ShipStar(CurShip)) && (ShipInNormalSpace(Player()))) {
                    Dialog(DialogMalocNo,CurShip);
                  }
                }
              }
            }
            if(MalocHired) {
              ChangeState(15);
              exit;
            }
        >>>
    }
    StateFreeH ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogPeople
        InMsg=DialogPeople
        Ether=
        Code=<<<
            if(kill_pirate) {
              ChangeState(19);
              exit;
            }
        >>>
    }
    StateFreeA ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogAdvisor
        InMsg=DialogAdvisor
        Ether=
        Code=<<<
            if(GetShipPlanet(CurShip)) {
              OrderTakeOff(CurShip);
            }
            if(ShipInNormalSpace(CurShip)) {
              if(ShipStar(Player())==ShipStar(CurShip)) {
                OrderFollowShip(CurShip,Player());
              }
              if(ShipStar(Player())!=ShipStar(CurShip)) {
                OrderJump(CurShip,ShipStar(Player()));
              }
            }
            if(quest_state) {
              OrderLock(CurShip,0);
              ChangeState(25);
              exit;
            }
        >>>
    }
    StateRuler ~{
        Type=Move
        Object=PlaceStart
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogRuler
        InMsg=DialogRuler
        Ether=
        Code=<<<
            if(((camera_start+2)<CurTurn()) && (quest_state==2)) {
              ChangeState(23);
              exit;
            }
            if(!ruler_greeting) {
              if((ShipStar(Player())==StarNew) && (ShipInNormalSpace(Player())) && (ShipInNormalSpace(CurShip))) {
                ruler_greeting=1;
                Dialog(DialogRulerStart,CurShip);
              }
            }
        >>>
    }
    StateLinerMove ~{
        Type=None
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogLiner
        InMsg=DialogLiner
        Ether=
        Code=<<<
            if(GetShipPlanet(CurShip)) {
              OrderTakeOff(CurShip);
            }
            if(ShipInNormalSpace(CurShip)) {
              if(ShipStar(CurShip)==StarNew) {
                OrderJump(CurShip,StarNearbyStars(StarNew,1));
              }
              if(ShipStar(CurShip)!=StarNew) {
                OrderLock(CurShip,0);
                NoTargetToShip(CurShip,0);
                ShipSpecialBonuses(CurShip,bonWEnergy,-ShipSpecialBonuses(CurShip,bonWEnergy));
                ShipSpecialBonuses(CurShip,bonWSplinter,-ShipSpecialBonuses(CurShip,bonWSplinter));
                ShipSpecialBonuses(CurShip,bonWMissile,-ShipSpecialBonuses(CurShip,bonWMissile));
                linerOut=1;
                ShipOut();
              }
            }
        >>>
    }
    StateBambai ~{
        Type=Follow
        Object=GroupRuler
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogBambai
        InMsg=DialogBambai
        Ether=
        Code=<<<
            if((camera_start<(CurTurn()-1)) && (quest_state==2)) {
              ChangeState(22);
              exit;
            }
        >>>
    }
    StateEvilPirate ~{
        Type=Follow
        Object=GroupPeople
        Attack ~{
            0=GroupPeople
            1=GroupNew
        }
        TakeItem=
        TakeAll=False
        OutMsg=
        InMsg=
        Ether=
        Code=
    }
    StateLinerStart ~{
        Type=Follow
        Object=GroupRuler
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogLiner
        InMsg=DialogLiner
        Ether=
        Code=<<<
            if(quest_state==2) {
              OrderLock(CurShip,1);
              ChangeState(8);
              exit;
            }
        >>>
    }
    StateWatch ~{
        Type=Move
        Object=PlaceGroup
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogAdvisor2
        InMsg=DialogAdvisor2
        Ether=
        Code=<<<
            if(ShipInNormalSpace(CurShip)) {
              if(GroupCount(GroupRuler)) {
                tmp_x=CoordX(GroupToShip(GroupRuler));
                tmp_y=CoordY(GroupToShip(GroupRuler));
                if ((tmp_x*tmp_x+tmp_y*tmp_y)<=1000000){tmp_cos=2*86;tmp_sin=2*50;}
                if ((tmp_x*tmp_x+tmp_y*tmp_y)>1000000){tmp_cos=96;tmp_sin=25;}
                if (ShipOwner(CurShip)!=3){
                OrderMove(CurShip,tmp_x*tmp_cos/100+tmp_y*tmp_sin/100+Rnd(-50,50),tmp_y*tmp_cos/100-tmp_x*tmp_sin/100+Rnd(-50,50),1);
                }
                if (ShipOwner(CurShip)==3){
                OrderMove(CurShip,tmp_x*tmp_cos/100-tmp_y*tmp_sin/100+Rnd(-50,50),tmp_y*tmp_cos/100+tmp_x*tmp_sin/100+Rnd(-50,50),1);
                }
                if(quest_state==4) {
                  OrderLock(CurShip,0);
                  ChangeState(13);
                  exit;
                }
              }
            }
            if(GetShipPlanet(CurShip)) {
              OrderTakeOff(CurShip);
            }
        >>>
    }
    StateLand ~{
        Type=Landing
        Object=PlanetNew
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogContinue
        InMsg=DialogContinue
        Ether=
        Code=<<<
            if(EndState) {
              ShipDestroy(CurShip);
              ChangeState(14);
              exit;
            }
        >>>
    }
    StateRemove ~{
        Type=None
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=
        InMsg=
        Ether=
        Code=
    }
    StateJump ~{
        Type=Jump
        Object=StarNew
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogOnAWay
        InMsg=DialogOnAWay
        Ether=
        Code=<<<
            if(EndState) {
              ChangeState(16);
              exit;
            }
        >>>
    }
    StateLand ~{
        Type=Landing
        Object=PlanetNew
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogOnAWay
        InMsg=DialogOnAWay
        Ether=
        Code=<<<
            if(quest_state) {
              if(ShipOwner(CurShip)!=3) {
                OrderLock(CurShip,1);
                ChangeState(17);
                exit;
              }
              if(ShipOwner(CurShip)==3) {
                OrderLock(CurShip,1);
                ChangeState(18);
                exit;
              }
            }
        >>>
    }
    StateWork ~{
        Type=Move
        Object=PlaceGroup
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogBusy
        InMsg=DialogBusy
        Ether=
        Code=<<<
            if(ShipInNormalSpace(CurShip)) {
              if(GroupCount(GroupRuler)) {
                tmp_x=CoordX(GroupToShip(GroupRuler));
                tmp_y=CoordY(GroupToShip(GroupRuler));
                if ((tmp_x*tmp_x+tmp_y*tmp_y)<=1000000){tmp_cos=2*86;tmp_sin=2*50;}
                if ((tmp_x*tmp_x+tmp_y*tmp_y)>1000000){tmp_cos=96;tmp_sin=25;}
                if (ShipOwner(CurShip)!=3){
                OrderMove(CurShip,tmp_x*tmp_cos/100+tmp_y*tmp_sin/100+Rnd(-50,50),tmp_y*tmp_cos/100-tmp_x*tmp_sin/100+Rnd(-50,50),1);
                }
                if (ShipOwner(CurShip)==3){
                OrderMove(CurShip,tmp_x*tmp_cos/100-tmp_y*tmp_sin/100+Rnd(-50,50),tmp_y*tmp_cos/100+tmp_x*tmp_sin/100+Rnd(-50,50),1);
                }
                if(quest_state==4) {
                  OrderLock(CurShip,0);
                  ChangeState(13);
                  exit;
                }
              }
            }
            if(GetShipPlanet(CurShip)) {
              OrderTakeOff(CurShip);
            }
        >>>
    }
    StateCamera ~{
        Type=Move
        Object=PlaceCamera
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogBusy
        InMsg=DialogBusy
        Ether=
        Code=<<<
            if(ShipInNormalSpace(CurShip)) {
              if(GroupCount(GroupRuler)) {
                tmp_x=CoordX(GroupToShip(GroupRuler));
                tmp_y=CoordY(GroupToShip(GroupRuler));
                if ((tmp_x*tmp_x+tmp_y*tmp_y)<=1000000){tmp_cos=2*86;tmp_sin=2*50;}
                if ((tmp_x*tmp_x+tmp_y*tmp_y)>1000000){tmp_cos=96;tmp_sin=25;}
                if (ShipOwner(CurShip)!=3){
                OrderMove(CurShip,tmp_x*tmp_cos/100+tmp_y*tmp_sin/100+Rnd(-50,50),tmp_y*tmp_cos/100-tmp_x*tmp_sin/100+Rnd(-50,50),1);
                }
                if (ShipOwner(CurShip)==3){
                OrderMove(CurShip,tmp_x*tmp_cos/100-tmp_y*tmp_sin/100+Rnd(-50,50),tmp_y*tmp_cos/100+tmp_x*tmp_sin/100+Rnd(-50,50),1);
                }
                if(quest_state==4) {
                  OrderLock(CurShip,0);
                  ChangeState(13);
                  exit;
                }
              }
            }
            if(GetShipPlanet(CurShip)) {
              OrderTakeOff(CurShip);
            }
        >>>
    }
    StateKillPirate ~{
        Type=Follow
        Object=GroupPirate
        Attack ~{
            0=GroupPirate
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogPeopleAttack
        InMsg=DialogPeopleAttack
        Ether=
        Code=<<<
            if(EndState) {
              PeopleHired=1;
              members_status[4]=CT("Script.PC_pla15.303");
              NoTargetToShip(CurShip,2);
              counter=0;
              quest_ship2=CurShip;
              if (ShipGetBad(quest_ship2)){TruceBetweenShips(ShipGetBad(quest_ship2),quest_ship2);}
              while (counter<StarShips(ShipStar(quest_ship2))){
              quest_ship=StarShips(ShipStar(quest_ship2),counter);
              if (ShipGetBad(quest_ship)==quest_ship2){TruceBetweenShips(quest_ship,quest_ship2);}
              counter=counter+1;}
              Ether(3,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.302"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",Name(GroupToShip(GroupPeleng)),"<3>",members_status[0],"<4>",Name(GroupToShip(GroupGaal)),"<5>",members_status[1],"<6>",Name(GroupToShip(GroupFei)),"<7>",members_status[2],"<8>",Name(GroupToShip(GroupMaloc)),"<9>",members_status[3],"<10>",Name(GroupToShip(GroupPeople)),"<11>",members_status[4]));
              ChangeState(15);
              exit;
            }
        >>>
    }
    StateKill ~{
        Type=Follow
        Object=GroupRuler
        Attack ~{
            0=GroupRuler
            1=GroupNew
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogBambaiKill
        InMsg=DialogBambaiKill
        Ether=
        Code=
    }
    StateAttackRuler ~{
        Type=Follow
        Object=GroupRuler
        Attack ~{
            0=GroupRuler
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogBambai
        InMsg=DialogBambai
        Ether=
        Code=<<<
            if(quest_state==3) {
              ChangeState(20);
              exit;
            }
        >>>
    }
    StateAttackLiner ~{
        Type=Follow
        Object=GroupLiner
        Attack ~{
            0=GroupLiner
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogBambai
        InMsg=DialogBambai
        Ether=
        Code=<<<
            if((camera_start+3+Id(CurShip)%2)<CurTurn()) {
              ChangeState(21);
              exit;
            }
        >>>
    }
    StateAttackBambai ~{
        Type=Follow
        Object=GroupBambai
        Attack ~{
            0=GroupBambai
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogRuler
        InMsg=DialogRuler
        Ether=
        Code=<<<
            if(HullDamage(CurShip)>15) {
              if((ShipStar(Player())==StarNew) && (ShipInNormalSpace(Player()))) {
                Dialog(DialogRulerHelp,CurShip);
                Ether(1,'B64A6DF1-7CEC-4D3D-8883-0C654C6B2F40',Format(CT("Script.PC_pla15.307"),"<0>",Name(GroupToShip(GroupBambai)),"<1>",Name(GroupToShip(GroupRuler))),GroupToShip(GroupBambai),GroupToShip(GroupRuler));
              }
              quest_state=3;
              ChangeState(24);
              exit;
            }
            if(!ruler_greeting) {
              if((ShipStar(Player())==StarNew) && (ShipInNormalSpace(Player())) && (ShipInNormalSpace(CurShip))) {
                ruler_greeting=1;
                Dialog(DialogRulerStart,CurShip);
              }
            }
        >>>
    }
    StatePanic ~{
        Type=Follow
        Object=GroupBambai
        Attack ~{
            0=GroupBambai
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogRuler
        InMsg=DialogRuler
        Ether=
        Code=<<<
            if(EndState) {
              quest_state=4;
              array_quest_statuses[script_num]=2;
              khan_counter=khan_counter+1;
              NoComeKlingToStar(StarNew,0);
              ShipOut(Player());
              Ether(4,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.283"),"<0>",Name(PlanetNew)));
              if((ShipStar(Player())==StarNew) && (ShipInNormalSpace(Player()))) {
                Dialog(DialogRulerWin,CurShip);
              }
              ChangeState(13);
              exit;
            }
        >>>
    }
    StateReturn ~{
        Type=Jump
        Object=StarNew
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=DialogAdvisor
        InMsg=DialogAdvisor
        Ether=
        Code=<<<
            if(EndState) {
              OrderLock(CurShip,1);
              ChangeState(12);
              exit;
            }
        >>>
    }
}
Dialogs ~{
    DialogPlanet ~{
        Code=<<<
            DChange(0);
            exit;
        >>>
    }
    DialogPeleng ~{
        Code=<<<
            if((ShipGetBad(CurShip)!=Player()) && (ShipGetBad(Player())!=CurShip) && (RelationToRanger(CurShip,Player())>=10)) {
              DChange(3);
              exit;
            }
        >>>
    }
    DialogPlanetCancel ~{
        Code=<<<
            DChange(1);
            exit;
        >>>
    }
    DialogGaal ~{
        Code=<<<
            if((ShipGetBad(CurShip)!=Player()) && (ShipGetBad(Player())!=CurShip) && (RelationToRanger(CurShip,Player())>=10)) {
              DChange(14);
              exit;
            }
        >>>
    }
    DialogFei ~{
        Code=<<<
            if((ShipGetBad(CurShip)!=Player()) && (ShipGetBad(Player())!=CurShip) && (RelationToRanger(CurShip,Player())>=10)) {
              DChange(22);
              exit;
            }
        >>>
    }
    DialogMaloc ~{
        Code=<<<
            if(!maloc_start_hp && (ShipGetBad(CurShip)!=Player()) && (ShipGetBad(Player())!=CurShip) && (RelationToRanger(CurShip,Player())>=10)) {
              DChange(31);
              exit;
            }
            if(maloc_start_hp) {
              DChange(41);
              exit;
            }
        >>>
    }
    DialogMalocYes ~{
        Code=<<<
            DChange(39);
            exit;
        >>>
    }
    DialogPeople ~{
        Code=<<<
            if((ShipGetBad(CurShip)!=Player()) && (ShipGetBad(Player())!=CurShip) && (RelationToRanger(CurShip,Player())>=10)) {
              DChange(42);
              exit;
            }
        >>>
    }
    DialogAdvisor ~{
        Code=<<<
            if((ShipGetBad(CurShip)!=Player()) && (ShipGetBad(Player())!=CurShip)) {
              DChange(46);
              exit;
            }
        >>>
    }
    DialogRuler ~{
        Code=<<<
            if(quest_state<3) {
              DChange(63);
              exit;
            }
            if(quest_state==3) {
              DChange(64);
              exit;
            }
        >>>
    }
    DialogOnAWay ~{
        Code=<<<
            DChange(58);
            exit;
        >>>
    }
    DialogBusy ~{
        Code=<<<
            DChange(59);
            exit;
        >>>
    }
    DialogRulerStart ~{
        Code=<<<
            DChange(69);
            exit;
        >>>
    }
    DialogRulerHelp ~{
        Code=<<<
            DChange(71);
            exit;
        >>>
    }
    DialogRulerWin ~{
        Code=<<<
            DChange(72);
            exit;
        >>>
    }
    DialogAdvisor2 ~{
        Code=<<<
            DChange(73);
            exit;
        >>>
    }
    DialogLiner ~{
        Code=<<<
            DChange(76);
            exit;
        >>>
    }
    DialogBambai ~{
        Code=<<<
            DChange(77);
            exit;
        >>>
    }
    DialogContinue ~{
        Code=<<<
            DChange(81);
            exit;
        >>>
    }
    DialogPeopleAttack ~{
        Code=<<<
            DChange(45);
            exit;
        >>>
    }
    DialogBambaiKill ~{
        Code=<<<
            DChange(78);
            exit;
        >>>
    }
    DialogMalocNo ~{
        Code=<<<
            DChange(40);
            exit;
        >>>
    }
    DialogCancelPirate ~{
        Code=<<<
            DChange(82);
            exit;
        >>>
    }
}
DialogMsgs ~{
    0 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.310"),"<0>",ShipName(Player()),"<1>",ShipName(Player())));    DAdd(0);
            DAdd(2);

        >>>
    }
    1 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.311"),"<0>",ShipName(Player())));    DAdd(1);

        >>>
    }
    2 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.285"),"<0>",Name(GroupToShip(GroupPeleng)),"<1>",Name(GroupToShip(GroupGaal)),"<2>",Name(GroupToShip(GroupFei)),"<3>",Name(GroupToShip(GroupMaloc)),"<4>",Name(GroupToShip(GroupPeople)),"<5>",Name(GroupToShip(GroupAdvisor))));    DAdd(3);

        >>>
    }
    3 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.107"));    DAdd(4);

        >>>
    }
    4 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.108"));    DAdd(5);

        >>>
    }
    5 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.109"));    DAdd(6);

        >>>
    }
    6 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.312"),"<0>",req_money));    if(ShipMoney(Player())>=req_money) {
              DAdd(7);
            }
            DAdd(8);

        >>>
    }
    7 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.286"));    DAdd(9);
            DAdd(10);
            DAdd(11);

        >>>
    }
    8 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.112"));    DAdd(12);

        >>>
    }
    9 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.113"));    DAdd(12);

        >>>
    }
    10 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.114"));    DAdd(13);
            DAdd(14);
            DAdd(15);

        >>>
    }
    11 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.115"));    DAdd(12);

        >>>
    }
    12 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.116"));    DAdd(16);

        >>>
    }
    13 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.117"));    DAdd(12);

        >>>
    }
    14 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.287"));    DAdd(17);

        >>>
    }
    15 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.135"));    DAdd(18);

        >>>
    }
    16 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.136"));    DAdd(19);
            DAdd(20);

        >>>
    }
    17 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.137"));    DAdd(21);

        >>>
    }
    18 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.138"));    DAdd(22);
            DAdd(23);
            DAdd(24);

        >>>
    }
    19 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.288"));    DAdd(21);

        >>>
    }
    20 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.140"));    DAdd(21);

        >>>
    }
    21 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.289"));    DAdd(25);

        >>>
    }
    22 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.150"));    DAdd(26);
            DAdd(27);

        >>>
    }
    23 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.290"));    DAdd(29);
            DAdd(33);

        >>>
    }
    24 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.152"));    DAdd(30);

        >>>
    }
    25 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.304"));    DAdd(31);
            DAdd(32);

        >>>
    }
    26 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.154"));    DAdd(28);

        >>>
    }
    27 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.155"));    DAdd(34);
            DAdd(35);

        >>>
    }
    28 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.156"));    DAdd(34);
            DAdd(35);

        >>>
    }
    29 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.157"));    DAdd(36);

        >>>
    }
    30 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.158"));    DAdd(30);

        >>>
    }
    31 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.168"));    DAdd(37);

        >>>
    }
    32 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.169"));    DAdd(38);

        >>>
    }
    33 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.170"));    DAdd(39);

        >>>
    }
    34 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.171"));    DAdd(40);
            DAdd(41);
            DAdd(42);

        >>>
    }
    35 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.172"));    DAdd(43);

        >>>
    }
    36 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.173"));    DAdd(40);
            DAdd(42);

        >>>
    }
    37 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.313"));    DAdd(44);
            DAdd(45);

        >>>
    }
    38 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.314"));    DAdd(46);

        >>>
    }
    39 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.176"));    DAdd(47);

        >>>
    }
    40 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.177"));    DAdd(48);

        >>>
    }
    41 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.178"));    DAdd(49);

        >>>
    }
    42 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.179"));    DAdd(50);

        >>>
    }
    43 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.180"));    DAdd(51);

        >>>
    }
    44 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.181"));    DAdd(52);
            DAdd(53);

        >>>
    }
    45 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.315"));    DAdd(54);

        >>>
    }
    46 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.183"));    if(0) {
              DAdd(56);
            }
            DAdd(55);
            DAdd(58);

        >>>
    }
    47 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.184"));    if(!MalocHired) {
              DAdd(67);
            }
            if(!GaalHired) {
              DAdd(64);
            }
            if(!FeiHired) {
              DAdd(65);
            }
            if(!PelengHired) {
              DAdd(66);
            }
            DAdd(68);

        >>>
    }
    48 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.185"));    DAdd(57);

        >>>
    }
    49 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.186"));    DAdd(59);

        >>>
    }
    50 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.187"));    DAdd(60);
            DAdd(61);

        >>>
    }
    51 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.188"));    if(0) {
              DAdd(56);
            }
            DAdd(55);

        >>>
    }
    52 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.291"));    DAdd(62);

        >>>
    }
    53 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.190"));    DAdd(63);

        >>>
    }
    54 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.191"));    DAdd(68);

        >>>
    }
    55 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.192"));    DAdd(68);

        >>>
    }
    56 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.193"));    DAdd(68);

        >>>
    }
    57 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.194"));    DAdd(68);

        >>>
    }
    58 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.195"));    DAdd(69);

        >>>
    }
    59 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.196"),"<0>",ShipName(Player())));    DAdd(70);
            DAdd(71);
            DAdd(72);

        >>>
    }
    60 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.197"));    DAdd(73);

        >>>
    }
    61 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.198"));    DAdd(74);

        >>>
    }
    62 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.199"));    DAdd(75);

        >>>
    }
    63 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.233"),"<0>",ShipName(Player())));    DAdd(76);
            DAdd(78);

        >>>
    }
    64 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.234"));    DAdd(80);

        >>>
    }
    65 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.235"));    DAdd(77);

        >>>
    }
    66 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.236"));    DAdd(79);

        >>>
    }
    67 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.237"));    DAdd(81);

        >>>
    }
    68 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.238"),"<0>",ShipName(Player())));    DAdd(82);

        >>>
    }
    69 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.301"),"<0>",ShipName(Player()),"<1>",Name(PlanetNew),"<2>",Name(GroupToShip(GroupLiner))));    DAdd(83);

        >>>
    }
    70 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.247"));    DAdd(84);

        >>>
    }
    71 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.248"),"<0>",ShipName(Player())));    DAdd(85);
            DAdd(86);

        >>>
    }
    72 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.249"),"<0>",ShipName(Player())));    DAdd(87);

        >>>
    }
    73 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.254"));    DAdd(88);

        >>>
    }
    74 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.255"));    DAdd(89);

        >>>
    }
    75 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.256"));    DAdd(90);

        >>>
    }
    76 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.257"));    DAdd(91);

        >>>
    }
    77 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.258"));    DAdd(92);

        >>>
    }
    78 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.259"));    DAdd(93);

        >>>
    }
    79 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.260"));    DAdd(94);

        >>>
    }
    80 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.261"));    DAdd(95);

        >>>
    }
    81 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla15.272"));    DAdd(96);

        >>>
    }
    82 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla15.308"),"<0>",ShipName(Player()),"<1>",ShipName(Player())));    DAdd(97);

        >>>
    }
}
DialogAnswers ~{
    0 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.99"));
        Code=<<<
            NoComeKlingToStar(StarNew,1);
            BuildListOfQuestPossibleLocations(locations,ShipStar(Player()),1,60);
            StarListToTransitPlanetList(locations,StarNew,StarNew,60);
            quest_planet=locations[0];
            planet_owner=PlanetRace(quest_planet,1);
            ShipJoin(GroupPeleng,BuyTransport(quest_planet,0));
            PlanetRace(quest_planet,planet_owner);
            quest_planet=locations[1];
            planet_owner=PlanetRace(quest_planet,4);
            ShipJoin(GroupGaal,BuyTransport(quest_planet,2));
            PlanetRace(quest_planet,planet_owner);
            quest_planet=locations[2];
            planet_owner=PlanetRace(quest_planet,3);
            ShipJoin(GroupFei,BuyTransport(quest_planet,2));
            PlanetRace(quest_planet,planet_owner);
            quest_planet=locations[3];
            planet_owner=PlanetRace(quest_planet,0);
            ShipJoin(GroupMaloc,BuyTransport(quest_planet,0));
            PlanetRace(quest_planet,planet_owner);
            quest_planet=locations[4];
            planet_owner=PlanetRace(quest_planet,2);
            ShipJoin(GroupPeople,BuyTransport(quest_planet,2));
            PlanetRace(quest_planet,planet_owner);
            quest_planet=PlanetNew;
            planet_owner=PlanetRace(quest_planet,1);
            ShipJoin(GroupAdvisor,BuyTransport(quest_planet,2));
            PlanetRace(quest_planet,planet_owner);
            OrderLock(GroupToShip(GroupAdvisor),1);
            NoTargetToShip(GroupToShip(GroupAdvisor),2);
            array_quest_statuses[script_num]=1;
            quest_started=CurTurn();
            members_status=newarray(5);
            counter=0;
            while (counter<ArrayDim(members_status)){
            members_status[counter]='';
            counter=counter+1;}
            Ether(3,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.302"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",Name(GroupToShip(GroupPeleng)),"<3>",members_status[0],"<4>",Name(GroupToShip(GroupGaal)),"<5>",members_status[1],"<6>",Name(GroupToShip(GroupFei)),"<7>",members_status[2],"<8>",Name(GroupToShip(GroupMaloc)),"<9>",members_status[3],"<10>",Name(GroupToShip(GroupPeople)),"<11>",members_status[4]));
            DChange(2);
            exit;
        >>>
    }
    1 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla15.309"));
        Code=
    }
    2 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla15.119"));
        Code=
    }
    3 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla15.120"));
        Code=
    }
    4 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.121"));
        Code=<<<
            DChange(4);
            exit;
        >>>
    }
    5 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.122"));
        Code=<<<
            DChange(5);
            exit;
        >>>
    }
    6 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.123"));
        Code=<<<
            DChange(6);
            exit;
        >>>
    }
    7 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.124"));
        Code=<<<
            ShipMoney(Player(),ShipMoney(Player())-req_money);
            Sound('Sound.Buy');
            DChange(7);
            exit;
        >>>
    }
    8 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.316"));
        Code=
    }
    9 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.293"));
        Code=<<<
            DChange(10);
            exit;
        >>>
    }
    10 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.127"));
        Code=<<<
            DChange(8);
            exit;
        >>>
    }
    11 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.128"));
        Code=<<<
            DChange(9);
            exit;
        >>>
    }
    12 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    13 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.130"));
        Code=<<<
            DChange(11);
            exit;
        >>>
    }
    14 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.131"));
        Code=<<<
            DChange(12);
            exit;
        >>>
    }
    15 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.132"));
        Code=<<<
            DChange(13);
            exit;
        >>>
    }
    16 ~{
        Command=exit
        Answer=DAnswer('exit~'+Format(CT("Script.PC_pla15.133"),"<0>",Name(StarNew)));
        Code=<<<
            PelengHired=1;
            members_status[0]=CT("Script.PC_pla15.303");
            NoTargetToShip(CurShip,2);
            counter=0;
            quest_ship2=CurShip;
            if (ShipGetBad(quest_ship2)){TruceBetweenShips(ShipGetBad(quest_ship2),quest_ship2);}
            while (counter<StarShips(ShipStar(quest_ship2))){
            quest_ship=StarShips(ShipStar(quest_ship2),counter);
            if (ShipGetBad(quest_ship)==quest_ship2){TruceBetweenShips(quest_ship,quest_ship2);}
            counter=counter+1;}
            Ether(3,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.302"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",Name(GroupToShip(GroupPeleng)),"<3>",members_status[0],"<4>",Name(GroupToShip(GroupGaal)),"<5>",members_status[1],"<6>",Name(GroupToShip(GroupFei)),"<7>",members_status[2],"<8>",Name(GroupToShip(GroupMaloc)),"<9>",members_status[3],"<10>",Name(GroupToShip(GroupPeople)),"<11>",members_status[4]));
        >>>
    }
    17 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.142"));
        Code=<<<
            DChange(15);
            exit;
        >>>
    }
    18 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.143"));
        Code=<<<
            DChange(16);
            exit;
        >>>
    }
    19 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.144"));
        Code=<<<
            DChange(17);
            exit;
        >>>
    }
    20 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.145"));
        Code=<<<
            DChange(18);
            exit;
        >>>
    }
    21 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.294"));
        Code=
    }
    22 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.146"));
        Code=<<<
            DChange(19);
            exit;
        >>>
    }
    23 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.147"));
        Code=<<<
            DChange(20);
            exit;
        >>>
    }
    24 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.295"));
        Code=<<<
            DChange(21);
            exit;
        >>>
    }
    25 ~{
        Command=exit
        Answer=DAnswer('exit~'+Format(CT("Script.PC_pla15.149"),"<0>",Name(StarNew)));
        Code=<<<
            GaalHired=1;
            members_status[1]=CT("Script.PC_pla15.303");
            NoTargetToShip(CurShip,2);
            counter=0;
            quest_ship2=CurShip;
            if (ShipGetBad(quest_ship2)){TruceBetweenShips(ShipGetBad(quest_ship2),quest_ship2);}
            while (counter<StarShips(ShipStar(quest_ship2))){
            quest_ship=StarShips(ShipStar(quest_ship2),counter);
            if (ShipGetBad(quest_ship)==quest_ship2){TruceBetweenShips(quest_ship,quest_ship2);}
            counter=counter+1;}
            Ether(3,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.302"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",Name(GroupToShip(GroupPeleng)),"<3>",members_status[0],"<4>",Name(GroupToShip(GroupGaal)),"<5>",members_status[1],"<6>",Name(GroupToShip(GroupFei)),"<7>",members_status[2],"<8>",Name(GroupToShip(GroupMaloc)),"<9>",members_status[3],"<10>",Name(GroupToShip(GroupPeople)),"<11>",members_status[4]));
        >>>
    }
    26 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.159"));
        Code=
    }
    27 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.160"));
        Code=<<<
            DChange(23);
            exit;
        >>>
    }
    28 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.153"));
        Code=<<<
            DChange(25);
            exit;
        >>>
    }
    29 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.161"));
        Code=<<<
            DChange(24);
            exit;
        >>>
    }
    30 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    31 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.162"));
        Code=<<<
            DChange(27);
            exit;
        >>>
    }
    32 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.163"));
        Code=<<<
            DChange(28);
            exit;
        >>>
    }
    33 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.164"));
        Code=<<<
            DChange(26);
            exit;
        >>>
    }
    34 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.165"));
        Code=<<<
            DChange(30);
            exit;
        >>>
    }
    35 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.166"));
        Code=<<<
            DChange(29);
            exit;
        >>>
    }
    36 ~{
        Command=exit
        Answer=DAnswer('exit~'+Format(CT("Script.PC_pla15.167"),"<0>",Name(StarNew)));
        Code=<<<
            FeiHired=1;
            members_status[2]=CT("Script.PC_pla15.303");
            NoTargetToShip(CurShip,2);
            counter=0;
            quest_ship2=CurShip;
            if (ShipGetBad(quest_ship2)){TruceBetweenShips(ShipGetBad(quest_ship2),quest_ship2);}
            while (counter<StarShips(ShipStar(quest_ship2))){
            quest_ship=StarShips(ShipStar(quest_ship2),counter);
            if (ShipGetBad(quest_ship)==quest_ship2){TruceBetweenShips(quest_ship,quest_ship2);}
            counter=counter+1;}
            Ether(3,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.302"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",Name(GroupToShip(GroupPeleng)),"<3>",members_status[0],"<4>",Name(GroupToShip(GroupGaal)),"<5>",members_status[1],"<6>",Name(GroupToShip(GroupFei)),"<7>",members_status[2],"<8>",Name(GroupToShip(GroupMaloc)),"<9>",members_status[3],"<10>",Name(GroupToShip(GroupPeople)),"<11>",members_status[4]));
        >>>
    }
    37 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.200"));
        Code=<<<
            DChange(32);
            exit;
        >>>
    }
    38 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.201"));
        Code=<<<
            DChange(33);
            exit;
        >>>
    }
    39 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.202"));
        Code=<<<
            DChange(34);
            exit;
        >>>
    }
    40 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.203"));
        Code=<<<
            DChange(35);
            exit;
        >>>
    }
    41 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.204"));
        Code=<<<
            DChange(36);
            exit;
        >>>
    }
    42 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.205"));
        Code=<<<
            DChange(37);
            exit;
        >>>
    }
    43 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.206"));
        Code=
    }
    44 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.207"));
        Code=
    }
    45 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.208"));
        Code=<<<
            DChange(38);
            exit;
        >>>
    }
    46 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.209"));
        Code=<<<
            //OrderNone(CurShip);
            OrderFollowShip(CurShip,Player());
            OrderLock(CurShip,1);
            maloc_test_date=CurTurn();
            maloc_start_hp=100-HullDamage(CurShip);
        >>>
    }
    47 ~{
        Command=exit
        Answer=DAnswer('exit~'+Format(CT("Script.PC_pla15.210"),"<0>",Name(StarNew)));
        Code=<<<
            MalocHired=1;
            members_status[3]=CT("Script.PC_pla15.303");
            NoTargetToShip(CurShip,2);
            counter=0;
            quest_ship2=CurShip;
            if (ShipGetBad(quest_ship2)){TruceBetweenShips(ShipGetBad(quest_ship2),quest_ship2);}
            while (counter<StarShips(ShipStar(quest_ship2))){
            quest_ship=StarShips(ShipStar(quest_ship2),counter);
            if (ShipGetBad(quest_ship)==quest_ship2){TruceBetweenShips(quest_ship,quest_ship2);}
            counter=counter+1;}
            Ether(3,'47F546BA-AA43-49FD-83AF-EB7D409A2910',Format(CT("Script.PC_pla15.302"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",Name(GroupToShip(GroupPeleng)),"<3>",members_status[0],"<4>",Name(GroupToShip(GroupGaal)),"<5>",members_status[1],"<6>",Name(GroupToShip(GroupFei)),"<7>",members_status[2],"<8>",Name(GroupToShip(GroupMaloc)),"<9>",members_status[3],"<10>",Name(GroupToShip(GroupPeople)),"<11>",members_status[4]));
        >>>
    }
    48 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    49 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    50 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.211"));
        Code=<<<
            DChange(43);
            exit;
        >>>
    }
    51 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.212"));
        Code=<<<
            DChange(44);
            exit;
        >>>
    }
    52 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.213"));
        Code=
    }
    53 ~{
        Command=exit
        Answer=DAnswer('exit~'+Format(CT("Script.PC_pla15.214"),"<0>",Name(StarNew)));
        Code=<<<
            kill_pirate=1;
            quest_ship=BuyPirate(FindPlanetByAdvancement(100));
            TransferShip(quest_ship,FindPlanet(ShipStar(CurShip),'NotMaloc,NotPeleng,NotPeople,NotFei,NotGaal',0,100));
            NoTargetToShip(quest_ship,2);
            ShipJoin(GroupPirate,quest_ship);
        >>>
    }
    54 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.215"));
        Code=
    }
    55 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.299"));
        Code=<<<
            DChange(47);
            exit;
        >>>
    }
    56 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.217"));
        Code=<<<
            DChange(48);
            exit;
        >>>
    }
    57 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    58 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.218"));
        Code=<<<
            DChange(49);
            exit;
        >>>
    }
    59 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.219"));
        Code=<<<
            DChange(50);
            exit;
        >>>
    }
    60 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.220"));
        Code=<<<
            DChange(51);
            exit;
        >>>
    }
    61 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.221"));
        Code=<<<
            DChange(52);
            exit;
        >>>
    }
    62 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.222"));
        Code=<<<
            DChange(53);
            exit;
        >>>
    }
    63 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    64 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.223"));
        Code=<<<
            DChange(55);
            exit;
        >>>
    }
    65 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.224"));
        Code=<<<
            DChange(56);
            exit;
        >>>
    }
    66 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.225"));
        Code=<<<
            DChange(57);
            exit;
        >>>
    }
    67 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.226"));
        Code=<<<
            DChange(54);
            exit;
        >>>
    }
    68 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    69 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    70 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.227"));
        Code=<<<
            DChange(60);
            exit;
        >>>
    }
    71 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.228"));
        Code=<<<
            DChange(61);
            exit;
        >>>
    }
    72 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.317"));
        Code=<<<
            DChange(62);
            exit;
        >>>
    }
    73 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.230"));
        Code=
    }
    74 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.231"));
        Code=
    }
    75 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.232"));
        Code=
    }
    76 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.239"));
        Code=<<<
            DChange(65);
            exit;
        >>>
    }
    77 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.240"));
        Code=
    }
    78 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.241"));
        Code=<<<
            DChange(66);
            exit;
        >>>
    }
    79 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.242"));
        Code=
    }
    80 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.243"));
        Code=<<<
            DChange(67);
            exit;
        >>>
    }
    81 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.244"));
        Code=<<<
            DChange(68);
            exit;
        >>>
    }
    82 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.245"));
        Code=
    }
    83 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.250"));
        Code=<<<
            DChange(70);
            exit;
        >>>
    }
    84 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.129"));
        Code=
    }
    85 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.251"));
        Code=
    }
    86 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.252"));
        Code=
    }
    87 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.253"));
        Code=
    }
    88 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.262"));
        Code=<<<
            DChange(74);
            exit;
        >>>
    }
    89 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.263"));
        Code=<<<
            DChange(75);
            exit;
        >>>
    }
    90 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.264"));
        Code=
    }
    91 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.265"));
        Code=
    }
    92 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.266"));
        Code=
    }
    93 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.267"));
        Code=<<<
            DChange(79);
            exit;
        >>>
    }
    94 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla15.268"));
        Code=<<<
            DChange(80);
            exit;
        >>>
    }
    95 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.269"));
        Code=
    }
    96 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla15.273"));
        Code=
    }
    97 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla15.309"));
        Code=
    }
}
