Version=6
GlobalVars ~{
}
GlobalCode=
LocalVars ~{
    quest_deadline ~{
        Type=Integer
        Value=0
    }
    quest_started ~{
        Type=Integer
        Value=0
    }
    script_num ~{
        Type=Integer
        Value=0
    }
    quest_complete ~{
        Type=Integer
        Value=0
    }
    counter ~{
        Type=Integer
        Value=0
    }
    counter2 ~{
        Type=Integer
        Value=0
    }
    counter3 ~{
        Type=Integer
        Value=0
    }
    locations ~{
        Type=Unknown
        Value=None
    }
    quest_star ~{
        Type=Dword
        Value=0
    }
    quest_star2 ~{
        Type=Dword
        Value=0
    }
    ship_name1 ~{
        Type=String
        Value=
    }
    ship_name2 ~{
        Type=String
        Value=
    }
    quest_star3 ~{
        Type=Dword
        Value=0
    }
    quest_planet ~{
        Type=Dword
        Value=0
    }
    quest_planet2 ~{
        Type=Dword
        Value=0
    }
    quest_planet3 ~{
        Type=Dword
        Value=0
    }
    quest_item ~{
        Type=Dword
        Value=0
    }
    quest_sector ~{
        Type=Dword
        Value=0
    }
    quest_sector2 ~{
        Type=Dword
        Value=0
    }
    quest_sector3 ~{
        Type=Dword
        Value=0
    }
    nedrug_planet1 ~{
        Type=Dword
        Value=0
    }
    nedrug_planet2 ~{
        Type=Dword
        Value=0
    }
    quest_failed ~{
        Type=Integer
        Value=0
    }
    quest_ship ~{
        Type=Dword
        Value=0
    }
    nedrug_id1 ~{
        Type=Dword
        Value=0
    }
    nedrug_id2 ~{
        Type=Dword
        Value=0
    }
    info2 ~{
        Type=Integer
        Value=0
    }
    info3 ~{
        Type=Integer
        Value=0
    }
    nedrug_star1 ~{
        Type=Dword
        Value=0
    }
    nedrug_star2 ~{
        Type=Dword
        Value=0
    }
    nedrug_killed1 ~{
        Type=Integer
        Value=0
    }
    nedrug_killed2 ~{
        Type=Integer
        Value=0
    }
    amulet_found2 ~{
        Type=Integer
        Value=0
    }
    amulet_found3 ~{
        Type=Integer
        Value=0
    }
    planet_list ~{
        Type=Unknown
        Value=None
    }
    temp_star ~{
        Type=Dword
        Value=0
    }
    temp_planet ~{
        Type=Dword
        Value=0
    }
    temp_sector ~{
        Type=Dword
        Value=0
    }
    planet_num ~{
        Type=Integer
        Value=0
    }
    req_planets ~{
        Type=Integer
        Value=6
    }
    StarNew ~{
        Type=Dword
        Value=0
    }
    PlanetNew ~{
        Type=Dword
        Value=0
    }
    AmuletPiece1 ~{
        Type=Dword
        Value=0
    }
    AmuletPiece2 ~{
        Type=Dword
        Value=0
    }
    AmuletPiece3 ~{
        Type=Dword
        Value=0
    }
    GroupNew ~{
        Type=Dword
        Value=0
    }
    GroupNedrug1 ~{
        Type=Dword
        Value=1
    }
    GroupNedrug2 ~{
        Type=Dword
        Value=2
    }
    DialogPlanet ~{
        Type=Dword
        Value=0
    }
    DialogComplete ~{
        Type=Dword
        Value=1
    }
    DialogPlanetCancel ~{
        Type=Dword
        Value=2
    }
    DialogNedrug ~{
        Type=Dword
        Value=3
    }
}
Constellations=0
Stars ~{
    StarNew ~{
        Constellation=-1
        IsSubspace=False
        NoKling=False
        NoComeKling=False
        StarLinks ~{
        }
        Planets ~{
            PlanetNew ~{
                Race=Maloc,Peleng,People,Fei,Gaal
                Owner=Maloc,Peleng,People,Fei,Gaal
                Economy=Agriculture,Industrial,Mixed
                Government=Anarchy,Dictatorship,Monarchy,Republic,Democracy
                Range=0..100
                Dialog=
            }
        }
        Ships ~{
            0 ~{
                Count=1
                Owner=Maloc,Peleng,People,Fei,Gaal
                Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
                IsPlayer=True
                Speed=0..10000
                Weapon=Undef
                CargoHook=0
                EmptySpace=0
                Rating=0..1000
                Status ~{
                    Trader=0..100
                    Warrior=0..100
                    Pirate=0..100
                }
                Score=0..1000000
                Strength=0.0..0.0
                Ruins=
            }
        }
    }
}
Places ~{
}
Items ~{
    AmuletPiece1 ~{
        Place=
        Class=Unknown
        Type=0
        Size=10
        Level=1
        Radius=150
        Owner=None
        Useless=
    }
    AmuletPiece2 ~{
        Place=
        Class=Unknown
        Type=0
        Size=10
        Level=1
        Radius=150
        Owner=None
        Useless=
    }
    AmuletPiece3 ~{
        Place=
        Class=Unknown
        Type=0
        Size=10
        Level=1
        Radius=150
        Owner=None
        Useless=
    }
}
Groups ~{
    GroupNew ~{
        Planet=PlanetNew
        State=0(StateNew)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=1..1
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=True
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupNedrug1 ~{
        Planet=PlanetNew
        State=1(StateFree)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
    GroupNedrug2 ~{
        Planet=PlanetNew
        State=1(StateFree)
        Owner=Maloc,Peleng,People,Fei,Gaal
        Type=Ranger,Warrior,Pirate,Transport,Liner,Diplomat
        Count=0..0
        Speed=100..10000
        Weapon=Undef
        CargoHook=0
        EmptySpace=0
        Friendship=Free
        AddPlayer=False
        Rating=0..1000
        Score=0..1000000
        Status ~{
            Trader=0..100
            Warrior=0..100
            Pirate=0..100
        }
        SearchDist=10000
        Dialog=
        Strength=0.0..0.0
        Ruins=
    }
}
GroupLinks ~{
}
InitCode=<<<
  planet_list=newarray(1);
  counter=1;
  while (counter<ArrayDim(array_script_names)){
  if (array_chosen_planets[counter]==Id(PlanetNew)){script_num=counter;}
  counter=counter+1;}
  locations=newarray(1);
>>>
TurnCode=<<<
  if (!quest_started && ShipIsTakeoff(Player())){
  ShipOut(Player());}
  if(quest_started && !quest_failed && !quest_complete) {
    if(!nedrug_killed1) {
      if(GroupCount(GroupNedrug1)) {
        nedrug_star1=Id(ShipStar(GroupToShip(GroupNedrug1)));
      }
      if(!GroupCount(GroupNedrug1)) {
        nedrug_killed1=1;
        if(Id(ShipStar(Player()))==nedrug_star1) {
          if(!amulet_found2) {
            info2=1;
            Ether(3,'BA731B05-6409-4872-932B-930FC9BDC7DF',Format(CT("Script.PC_pla21.122"),"<0>",ship_name1,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star2-1)),"<3>",Name(IdToPlanet(quest_planet2))));
          }
          if(amulet_found2) {
            Ether(0,'2A81FA86-212F-440B-9EEC-7D8C20EF6557',Format(CT("Script.PC_pla21.121"),"<0>",ship_name1,"<1>",Name(PlanetNew)));
          }
        }
        if(Id(ShipStar(Player()))!=nedrug_star1) {
          Ether(0,'9618F178-532E-4588-BFD7-2D9F1C36CEAF',Format(CT("Script.PC_pla21.120"),"<0>",ship_name1));
        }
      }
    }
    if(!nedrug_killed2) {
      if(GroupCount(GroupNedrug2)) {
        nedrug_star2=Id(ShipStar(GroupToShip(GroupNedrug2)));
      }
      if(!GroupCount(GroupNedrug2)) {
        nedrug_killed2=1;
        if(Id(ShipStar(Player()))==nedrug_star2) {
          if(!amulet_found3) {
            info3=1;
            Ether(3,'B6C05F08-4DEE-4CAC-ADF7-05B89420AB16',Format(CT("Script.PC_pla21.122"),"<0>",ship_name2,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star3-1)),"<3>",Name(IdToPlanet(quest_planet3))));
          }
          if(amulet_found3) {
            Ether(0,'17C9701A-3136-4422-A203-088142DD75E6',Format(CT("Script.PC_pla21.121"),"<0>",ship_name2,"<1>",Name(PlanetNew)));
          }
        }
        if(Id(ShipStar(Player()))!=nedrug_star2) {
          Ether(0,'DE4F9BE7-B4FF-4249-9115-8C90B7A18947',Format(CT("Script.PC_pla21.120"),"<0>",ship_name2));
        }
      }
    }
    if(!amulet_found2) {
      if(ItemIn(AmuletPiece2,Player())) {
        amulet_found2=1;
        if(info2) {
          Ether(4,'BA731B05-6409-4872-932B-930FC9BDC7DF',Format(CT("Script.PC_pla21.122"),"<0>",ship_name1,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star2-1)),"<3>",Name(IdToPlanet(quest_planet))));
        }
      }
    }
    if(!amulet_found3) {
      if(ItemIn(AmuletPiece3,Player())) {
        amulet_found3=1;
        if(info3) {
          Ether(4,'B6C05F08-4DEE-4CAC-ADF7-05B89420AB16',Format(CT("Script.PC_pla21.122"),"<0>",ship_name2,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star3-1)),"<3>",Name(IdToPlanet(quest_planet))));
        }
      }
    }
    if(!ItemExist(AmuletPiece1) || !ItemExist(AmuletPiece2) || !ItemExist(AmuletPiece3)) {
      if(!quest_failed) {
        Ether(5,'7BF8BB36-836C-4FFE-8EF6-A80B40C1E792',Format(CT("Script.PC_pla21.91"),"<0>",Name(PlanetNew)));
        quest_failed=1;
        if (GroupCount(GroupNedrug1)){ShipOut(GroupToShip(GroupNedrug1));}
        if (GroupCount(GroupNedrug2)){ShipOut(GroupToShip(GroupNedrug2));}
        if (ItemExist(AmuletPiece1)){ReleaseItemFromScript(AmuletPiece1);}
        if (ItemExist(AmuletPiece2)){ReleaseItemFromScript(AmuletPiece2);}
        if (ItemExist(AmuletPiece3)){ReleaseItemFromScript(AmuletPiece3);}
        array_quest_statuses[script_num]=3;
        ShipOut(Player());
        if(info2 && !amulet_found2) {
          Ether(5,'BA731B05-6409-4872-932B-930FC9BDC7DF',Format(CT("Script.PC_pla21.122"),"<0>",ship_name1,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star2-1)),"<3>",Name(IdToPlanet(quest_planet))));
        }
        if(info3 && !amulet_found3) {
          Ether(5,'B6C05F08-4DEE-4CAC-ADF7-05B89420AB16',Format(CT("Script.PC_pla21.122"),"<0>",ship_name2,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star3-1)),"<3>",Name(IdToPlanet(quest_planet))));
        }
      }
    }
    if(quest_deadline<CurTurn()) {
      if(!quest_failed) {
        quest_failed=1;
        if (GroupCount(GroupNedrug1)){ShipOut(GroupToShip(GroupNedrug1));}
        if (GroupCount(GroupNedrug2)){ShipOut(GroupToShip(GroupNedrug2));}
        if (ItemExist(AmuletPiece1)){ReleaseItemFromScript(AmuletPiece1);}
        if (ItemExist(AmuletPiece2)){ReleaseItemFromScript(AmuletPiece2);}
        if (ItemExist(AmuletPiece3)){ReleaseItemFromScript(AmuletPiece3);}
        array_quest_statuses[script_num]=3;
        ShipOut(Player());
        if(info2 && !amulet_found2) {
          Ether(5,'BA731B05-6409-4872-932B-930FC9BDC7DF',Format(CT("Script.PC_pla21.122"),"<0>",ship_name1,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star2-1)),"<3>",Name(IdToPlanet(quest_planet))));
        }
        if(info3 && !amulet_found3) {
          Ether(5,'B6C05F08-4DEE-4CAC-ADF7-05B89420AB16',Format(CT("Script.PC_pla21.122"),"<0>",ship_name2,"<1>",Name(PlanetNew),"<2>",Name(GalaxyStar(quest_star3-1)),"<3>",Name(IdToPlanet(quest_planet))));
        }
        Ether(5,'7BF8BB36-836C-4FFE-8EF6-A80B40C1E792',Format(CT("Script.PC_pla21.119"),"<0>",Name(PlanetNew)));
      }
    }
  }
>>>
DialogBegin=<<<
  if(GetTalkShip()) {
    if((Id(GetTalkShip())==nedrug_id1) || (Id(GetTalkShip())==nedrug_id2)) {
      if(!quest_complete) {
        AddDialogInject('DialogNedrug','',CT("Script.PC_pla21.114"),10);
      }
    }
  }
  if(GetShipPlanet(Player())==PlanetNew) {
    if(!quest_started && request_dialog) {
      request_dialog=0;
      counter=BuildListOfQuestPossibleLocations(locations,StarNew,1,255);
      if (counter){counter=StarListToTransitPlanetList(locations,StarNew,StarNew,140);}
      if(counter<=12) {
        AddDialogOverride('DialogPlanetCancel',10);
      }
      if(counter>12) {
        nedrug_planet1=Id(locations[0]);
        nedrug_planet2=Id(locations[1]);
        quest_planet=0;
        counter=1;
        while (counter<GalaxyStars()){
        temp_star=StarNearbyStars(StarNew,counter);
        temp_sector=StarToCon(temp_star);
        if (SectorVisible(temp_sector)){
        ArrayClear(planet_list);
        counter2=0;
        while (counter2<ConStars(temp_sector)){
        temp_star=ConStar(temp_sector,counter2);
        if (StarOwner(temp_star)==0){
        if (temp_star!=StarNew){
        counter3=0;
        while (counter3<StarPlanets(temp_star)){
        temp_planet=StarPlanets(temp_star,counter3);
        if (PlanetOwner(temp_planet)==None){ArrayAdd(planet_list,temp_planet);}
        counter3=counter3+1;}
        }}
        counter2=counter2+1;}
        if (ArrayDim(planet_list)>req_planets){
        ArrayDelete(planet_list,0);
        planet_num=Rnd(0,100)%ArrayDim(planet_list);
        quest_planet=planet_list[planet_num];
        quest_star=PlanetToStar(quest_planet);
        quest_sector=temp_sector;
        counter=GalaxyStars();}
        }
        counter=counter+1;}
        if(!quest_planet) {
          AddDialogOverride('DialogPlanetCancel',10);
        }
        if(quest_planet) {
          quest_planet2=0;
          counter=1;
          while (counter<GalaxyStars()){
          temp_star=StarNearbyStars(StarNew,counter);
          temp_sector=StarToCon(temp_star);
          if (SectorVisible(temp_sector)){
          if (temp_sector!=quest_sector){
          ArrayClear(planet_list);
          counter2=0;
          while (counter2<ConStars(temp_sector)){
          temp_star=ConStar(temp_sector,counter2);
          if (StarOwner(temp_star)==0){
          if (temp_star!=StarNew){
          counter3=0;
          while (counter3<StarPlanets(temp_star)){
          temp_planet=StarPlanets(temp_star,counter3);
          if (PlanetOwner(temp_planet)==None){ArrayAdd(planet_list,temp_planet);}
          counter3=counter3+1;}
          }}
          counter2=counter2+1;}
          if (ArrayDim(planet_list)>req_planets){
          ArrayDelete(planet_list,0);
          planet_num=Rnd(0,100)%ArrayDim(planet_list);
          quest_planet2=planet_list[planet_num];
          quest_star2=PlanetToStar(quest_planet2);
          quest_sector2=temp_sector;
          counter=GalaxyStars();}
          }}
          counter=counter+1;}
          if(!quest_planet2) {
            AddDialogOverride('DialogPlanetCancel',10);
          }
          if(quest_planet2) {
            quest_planet3=0;
            counter=1;
            while (counter<GalaxyStars()){
            temp_star=StarNearbyStars(StarNew,counter);
            temp_sector=StarToCon(temp_star);
            if (SectorVisible(temp_sector)){
            if (temp_sector!=quest_sector){
            if (temp_sector!=quest_sector2){
            ArrayClear(planet_list);
            counter2=0;
            while (counter2<ConStars(temp_sector)){
            temp_star=ConStar(temp_sector,counter2);
            if (StarOwner(temp_star)==0){
            if (temp_star!=StarNew){
            counter3=0;
            while (counter3<StarPlanets(temp_star)){
            temp_planet=StarPlanets(temp_star,counter3);
            if (PlanetOwner(temp_planet)==None){ArrayAdd(planet_list,temp_planet);}
            counter3=counter3+1;}
            }}
            counter2=counter2+1;}
            if (ArrayDim(planet_list)>req_planets){
            ArrayDelete(planet_list,0);
            planet_num=Rnd(0,100)%ArrayDim(planet_list);
            quest_planet3=planet_list[planet_num];
            quest_star3=PlanetToStar(quest_planet3);
            quest_sector3=temp_sector;
            counter=GalaxyStars();}
            }}}
            counter=counter+1;}
            if(!quest_planet3) {
              AddDialogOverride('DialogPlanetCancel',10);
            }
            if(quest_planet3) {
              quest_sector=Id(quest_sector);
              quest_sector2=Id(quest_sector2);
              quest_sector3=Id(quest_sector3);
              quest_star=Id(quest_star);
              quest_star2=Id(quest_star2);
              quest_star3=Id(quest_star3);
              quest_planet=Id(quest_planet);
              quest_planet2=Id(quest_planet2);
              quest_planet3=Id(quest_planet3);
              AddDialogOverride('DialogPlanet',10);
            }
          }
        }
      }
    }
    if(quest_started && !quest_complete) {
      if(ItemIn(AmuletPiece1,Player()) && ItemIn(AmuletPiece2,Player()) && ItemIn(AmuletPiece3,Player())) {
        AddDialogOverride('DialogComplete',10);
      }
    }
  }
>>>
States ~{
    StateNew ~{
        Type=None
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=
        InMsg=
        Ether=
        Code=
    }
    StateFree ~{
        Type=Free
        Attack ~{
        }
        TakeItem=
        TakeAll=False
        OutMsg=
        InMsg=
        Ether=
        Code=
    }
}
Dialogs ~{
    DialogPlanet ~{
        Code=<<<
            quest_deadline=CurTurn()+240;
            DChange(0);
            exit;
        >>>
    }
    DialogComplete ~{
        Code=<<<
            DChange(1);
            exit;
        >>>
    }
    DialogPlanetCancel ~{
        Code=<<<
            DChange(2);
            exit;
        >>>
    }
    DialogNedrug ~{
        Code=<<<
            DChange(5);
            exit;
        >>>
    }
}
DialogMsgs ~{
    0 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla21.96"));    DAdd(0);
            DAdd(2);

        >>>
    }
    1 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla21.108"));    DAdd(1);

        >>>
    }
    2 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla21.126"),"<0>",ShipName(Player())));    DAdd(3);

        >>>
    }
    3 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla21.109"),"<0>",Name(IdToPlanet(quest_planet)),"<1>",Name(GalaxyStar(quest_star-1)),"<2>",Name(GalaxySectors(quest_sector2-1)),"<3>",Name(GalaxySectors(quest_sector3-1)),"<4>",ship_name1,"<5>",ship_name2));    DAdd(4);

        >>>
    }
    4 ~{
        Name=
        Code=<<<
            DText(Format(CT("Script.PC_pla21.110"),"<0>",ShipName(Player())));    FreeItem(GetItemFromShip(Player(),FindItemInShip(Player(),AmuletPiece1)));
            FreeItem(GetItemFromShip(Player(),FindItemInShip(Player(),AmuletPiece2)));
            FreeItem(GetItemFromShip(Player(),FindItemInShip(Player(),AmuletPiece3)));
            array_quest_statuses[script_num]=2;
            quest_complete=1;
            khan_counter=khan_counter+1;
            ShipOut(Player());
            if (GroupCount(GroupNedrug1)){
            quest_ship=GroupToShip(GroupNedrug1);
            NoTargetToShip(quest_ship,0);
            ShipOut(quest_ship);}
            if (GroupCount(GroupNedrug2)){
            quest_ship=GroupToShip(GroupNedrug2);
            NoTargetToShip(quest_ship,0);
            ShipOut(quest_ship);}
            Ether(4,'7BF8BB36-836C-4FFE-8EF6-A80B40C1E792',Format(CT("Script.PC_pla21.93"),"<0>",Name(PlanetNew)));
            DAdd(7);
            DAdd(8);

        >>>
    }
    5 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla21.111"));    DAdd(6);

        >>>
    }
    6 ~{
        Name=
        Code=<<<
            DText(CT("Script.PC_pla21.112"));    DAdd(5);

        >>>
    }
}
DialogAnswers ~{
    0 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla21.74"));
        Code=<<<
            array_quest_statuses[script_num]=1;
            quest_started=1;
            quest_item=CreateQuestItem('Usl_AmuletFragment1');
            AddItemToPlanet(IdToPlanet(quest_planet),quest_item);
            LinkItemToScript(quest_item,AmuletPiece1);
            quest_item=CreateQuestItem('Usl_AmuletFragment2');
            AddItemToPlanet(IdToPlanet(quest_planet2),quest_item);
            LinkItemToScript(quest_item,AmuletPiece2);
            quest_item=CreateQuestItem('Usl_AmuletFragment3');
            AddItemToPlanet(IdToPlanet(quest_planet3),quest_item);
            LinkItemToScript(quest_item,AmuletPiece3);
            quest_ship=BuyPirate(IdToPlanet(nedrug_planet1));
            NoTargetToShip(quest_ship,2);
            ship_name1=Name(quest_ship);
            nedrug_id1=Id(quest_ship);
            ShipJoin(GroupNedrug1,quest_ship);
            quest_ship=BuyPirate(IdToPlanet(nedrug_planet2));
            NoTargetToShip(quest_ship,2);
            ship_name2=Name(quest_ship);
            nedrug_id2=Id(quest_ship);
            ShipJoin(GroupNedrug2,quest_ship);
            Ether(3,'7BF8BB36-836C-4FFE-8EF6-A80B40C1E792',Format(CT("Script.PC_pla21.124"),"<0>",Name(PlanetNew),"<1>",Name(StarNew),"<2>",Name(IdToPlanet(quest_planet)),"<3>",Name(GalaxyStar(quest_star-1)),"<4>",Name(GalaxySectors(quest_sector2-1)),"<5>",Name(GalaxySectors(quest_sector3-1)),"<6>",ship_name1,"<7>",ship_name2,"<8>",GameDateTxtByTurn(quest_deadline)));
            DChange(3);
            exit;
        >>>
    }
    1 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla21.102"));
        Code=<<<
            DChange(4);
            exit;
        >>>
    }
    2 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla21.76"));
        Code=
    }
    3 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla21.127"));
        Code=
    }
    4 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla21.103"));
        Code=
    }
    5 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla21.125"));
        Code=
    }
    6 ~{
        Command=exit
        Answer=DAnswer('exit~'+CT("Script.PC_pla21.115"));
        Code=
    }
    7 ~{
        Command=planet
        Answer=DAnswer('planet~'+CT("Script.PC_pla21.116"));
        Code=
    }
    8 ~{
        Command=
        Answer=DAnswer(CT("Script.PC_pla21.117"));
        Code=<<<
            DChange(6);
            exit;
        >>>
    }
}
